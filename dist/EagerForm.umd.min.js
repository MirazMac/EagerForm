/*!
 * @mirazmac/eagerform
 * A vanilla javascript form validation library based on HTML5 constraints with support for custom rules, messages and localizations.
 *
 * @version v1.0.2
 * @author Miraz Mac <mirazmac@gmail.com> (https://github.com/MirazMac)
 * @homepage https://github.com/MirazMac/EagerForm
 * @repository https://github.com/MirazMac/EagerForm
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).EagerForm=e()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){var e={exports:{}};return t(e,e.exports),e.exports}var n=function(t){return t&&t.Math==Math&&t},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")(),i=function(t){try{return!!t()}catch(t){return!0}},o=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),a={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,c={f:s&&!a.call({1:2},1)?function(t){var e=s(this,t);return!!e&&e.enumerable}:a},u=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},l={}.toString,f=function(t){return l.call(t).slice(8,-1)},h="".split,d=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==f(t)?h.call(t,""):Object(t)}:Object,p=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},v=function(t){return d(p(t))},g=function(t){return"object"==typeof t?null!==t:"function"==typeof t},b=function(t,e){if(!g(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!g(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!g(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!g(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},m=function(t){return Object(p(t))},y={}.hasOwnProperty,E=Object.hasOwn||function(t,e){return y.call(m(t),e)},S=r.document,w=g(S)&&g(S.createElement),O=function(t){return w?S.createElement(t):{}},x=!o&&!i((function(){return 7!=Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a})),P=Object.getOwnPropertyDescriptor,j={f:o?P:function(t,e){if(t=v(t),e=b(e,!0),x)try{return P(t,e)}catch(t){}if(E(t,e))return u(!c.f.call(t,e),t[e])}},A=function(t){if(!g(t))throw TypeError(String(t)+" is not an object");return t},F=Object.defineProperty,T={f:o?F:function(t,e,n){if(A(t),e=b(e,!0),A(n),x)try{return F(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},I=o?function(t,e,n){return T.f(t,e,u(1,n))}:function(t,e,n){return t[e]=n,t},C=function(t,e){try{I(r,t,e)}catch(n){r[t]=e}return e},L="__core-js_shared__",R=r[L]||C(L,{}),_=Function.toString;"function"!=typeof R.inspectSource&&(R.inspectSource=function(t){return _.call(t)});var k,M,D,N,U=R.inspectSource,V=r.WeakMap,$="function"==typeof V&&/native code/.test(U(V)),q=e((function(t){(t.exports=function(t,e){return R[t]||(R[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.13.1",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),B=0,X=Math.random(),H=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++B+X).toString(36)},W=q("keys"),z={},K="Object already initialized",G=r.WeakMap;if($||R.state){var Y=R.state||(R.state=new G),J=Y.get,Z=Y.has,Q=Y.set;k=function(t,e){if(Z.call(Y,t))throw new TypeError(K);return e.facade=t,Q.call(Y,t,e),e},M=function(t){return J.call(Y,t)||{}},D=function(t){return Z.call(Y,t)}}else{var tt=W[N="state"]||(W[N]=H(N));z[tt]=!0,k=function(t,e){if(E(t,tt))throw new TypeError(K);return e.facade=t,I(t,tt,e),e},M=function(t){return E(t,tt)?t[tt]:{}},D=function(t){return E(t,tt)}}var et={set:k,get:M,has:D,enforce:function(t){return D(t)?M(t):k(t,{})},getterFor:function(t){return function(e){var n;if(!g(e)||(n=M(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},nt=e((function(t){var e=et.get,n=et.enforce,i=String(String).split("String");(t.exports=function(t,e,o,a){var s,c=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,l=!!a&&!!a.noTargetGet;"function"==typeof o&&("string"!=typeof e||E(o,"name")||I(o,"name",e),(s=n(o)).source||(s.source=i.join("string"==typeof e?e:""))),t!==r?(c?!l&&t[e]&&(u=!0):delete t[e],u?t[e]=o:I(t,e,o)):u?t[e]=o:C(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||U(this)}))})),rt=r,it=function(t){return"function"==typeof t?t:void 0},ot=function(t,e){return arguments.length<2?it(rt[t])||it(r[t]):rt[t]&&rt[t][e]||r[t]&&r[t][e]},at=Math.ceil,st=Math.floor,ct=function(t){return isNaN(t=+t)?0:(t>0?st:at)(t)},ut=Math.min,lt=function(t){return t>0?ut(ct(t),9007199254740991):0},ft=Math.max,ht=Math.min,dt=function(t){return function(e,n,r){var i,o=v(e),a=lt(o.length),s=function(t,e){var n=ct(t);return n<0?ft(n+e,0):ht(n,e)}(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},pt={includes:dt(!0),indexOf:dt(!1)}.indexOf,vt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),gt={f:Object.getOwnPropertyNames||function(t){return function(t,e){var n,r=v(t),i=0,o=[];for(n in r)!E(z,n)&&E(r,n)&&o.push(n);for(;e.length>i;)E(r,n=e[i++])&&(~pt(o,n)||o.push(n));return o}(t,vt)}},bt={f:Object.getOwnPropertySymbols},mt=ot("Reflect","ownKeys")||function(t){var e=gt.f(A(t)),n=bt.f;return n?e.concat(n(t)):e},yt=function(t,e){for(var n=mt(e),r=T.f,i=j.f,o=0;o<n.length;o++){var a=n[o];E(t,a)||r(t,a,i(e,a))}},Et=/#|\.prototype\./,St=function(t,e){var n=Ot[wt(t)];return n==Pt||n!=xt&&("function"==typeof e?i(e):!!e)},wt=St.normalize=function(t){return String(t).replace(Et,".").toLowerCase()},Ot=St.data={},xt=St.NATIVE="N",Pt=St.POLYFILL="P",jt=St,At=j.f,Ft=function(t,e){var n,i,o,a,s,c=t.target,u=t.global,l=t.stat;if(n=u?r:l?r[c]||C(c,{}):(r[c]||{}).prototype)for(i in e){if(a=e[i],o=t.noTargetGet?(s=At(n,i))&&s.value:n[i],!jt(u?i:c+(l?".":"#")+i,t.forced)&&void 0!==o){if(typeof a==typeof o)continue;yt(a,o)}(t.sham||o&&o.sham)&&I(a,"sham",!0),nt(n,i,a,t)}},Tt=function(){var t=A(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function It(t,e){return RegExp(t,e)}var Ct,Lt,Rt={UNSUPPORTED_Y:i((function(){var t=It("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:i((function(){var t=It("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},_t=RegExp.prototype.exec,kt=q("native-string-replace",String.prototype.replace),Mt=_t,Dt=(Ct=/a/,Lt=/b*/g,_t.call(Ct,"a"),_t.call(Lt,"a"),0!==Ct.lastIndex||0!==Lt.lastIndex),Nt=Rt.UNSUPPORTED_Y||Rt.BROKEN_CARET,Ut=void 0!==/()??/.exec("")[1];(Dt||Ut||Nt)&&(Mt=function(t){var e,n,r,i,o=this,a=Nt&&o.sticky,s=Tt.call(o),c=o.source,u=0,l=t;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),l=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(c="(?: "+c+")",l=" "+l,u++),n=new RegExp("^(?:"+c+")",s)),Ut&&(n=new RegExp("^"+c+"$(?!\\s)",s)),Dt&&(e=o.lastIndex),r=_t.call(a?n:o,l),a?r?(r.input=r.input.slice(u),r[0]=r[0].slice(u),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:Dt&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),Ut&&r&&r.length>1&&kt.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var Vt=Mt;Ft({target:"RegExp",proto:!0,forced:/./.exec!==Vt},{exec:Vt});var $t,qt,Bt=ot("navigator","userAgent")||"",Xt=r.process,Ht=Xt&&Xt.versions,Wt=Ht&&Ht.v8;Wt?qt=($t=Wt.split("."))[0]<4?1:$t[0]+$t[1]:Bt&&(!($t=Bt.match(/Edge\/(\d+)/))||$t[1]>=74)&&($t=Bt.match(/Chrome\/(\d+)/))&&(qt=$t[1]);var zt=qt&&+qt,Kt=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&zt&&zt<41})),Gt=Kt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Yt=q("wks"),Jt=r.Symbol,Zt=Gt?Jt:Jt&&Jt.withoutSetter||H,Qt=function(t){return E(Yt,t)&&(Kt||"string"==typeof Yt[t])||(Kt&&E(Jt,t)?Yt[t]=Jt[t]:Yt[t]=Zt("Symbol."+t)),Yt[t]},te=Qt("species"),ee=RegExp.prototype,ne=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),re="$0"==="a".replace(/./,"$0"),ie=Qt("replace"),oe=!!/./[ie]&&""===/./[ie]("a","$0"),ae=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),se=function(t){return function(e,n){var r,i,o=String(p(e)),a=ct(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},ce={codeAt:se(!1),charAt:se(!0)}.charAt,ue=function(t,e,n){return e+(n?ce(t,e).length:1)},le=Math.floor,fe="".replace,he=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,de=/\$([$&'`]|\d{1,2})/g,pe=function(t,e,n,r,i,o){var a=n+t.length,s=r.length,c=de;return void 0!==i&&(i=m(i),c=he),fe.call(o,c,(function(o,c){var u;switch(c.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(a);case"<":u=i[c.slice(1,-1)];break;default:var l=+c;if(0===l)return o;if(l>s){var f=le(l/10);return 0===f?o:f<=s?void 0===r[f-1]?c.charAt(1):r[f-1]+c.charAt(1):o}u=r[l-1]}return void 0===u?"":u}))},ve=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==f(t))throw TypeError("RegExp#exec called on incompatible receiver");return Vt.call(t,e)},ge=Math.max,be=Math.min;function me(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t,e,n,r){var o=Qt(t),a=!i((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),s=a&&!i((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[te]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return e=!0,null},n[o](""),!e}));if(!a||!s||"replace"===t&&(!ne||!re||oe)||"split"===t&&!ae){var c=/./[o],u=n(o,""[t],(function(t,e,n,r,i){var o=e.exec;return o===Vt||o===ee.exec?a&&!i?{done:!0,value:c.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:re,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:oe}),l=u[0],f=u[1];nt(String.prototype,t,l),nt(ee,o,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)})}r&&I(ee[o],"sham",!0)}("replace",2,(function(t,e,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(n,r){var i=p(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(a)){var s=n(e,t,this,r);if(s.done)return s.value}var c=A(t),u=String(this),l="function"==typeof r;l||(r=String(r));var f=c.global;if(f){var h=c.unicode;c.lastIndex=0}for(var d=[];;){var p=ve(c,u);if(null===p)break;if(d.push(p),!f)break;""===String(p[0])&&(c.lastIndex=ue(u,lt(c.lastIndex),h))}for(var v,g="",b=0,m=0;m<d.length;m++){p=d[m];for(var y=String(p[0]),E=ge(be(ct(p.index),u.length),0),S=[],w=1;w<p.length;w++)S.push(void 0===(v=p[w])?v:String(v));var O=p.groups;if(l){var x=[y].concat(S,E,u);void 0!==O&&x.push(O);var P=String(r.apply(void 0,x))}else P=pe(y,u,E,S,O,r);E>=b&&(g+=u.slice(b,E)+P,b=E+y.length)}return g+u.slice(b)}]}));var ye=/^\s+|\s+$/g,Ee=/^[-+]0x[0-9a-f]+$/i,Se=/^0b[01]+$/i,we=/^0o[0-7]+$/i,Oe=parseInt,xe="object"==typeof t&&t&&t.Object===Object&&t,Pe="object"==typeof self&&self&&self.Object===Object&&self,je=xe||Pe||Function("return this")(),Ae=Object.prototype.toString,Fe=Math.max,Te=Math.min,Ie=function(){return je.Date.now()};function Ce(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Le(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==Ae.call(t)}(t))return NaN;if(Ce(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ce(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ye,"");var n=Se.test(t);return n||we.test(t)?Oe(t.slice(2),n?2:8):Ee.test(t)?NaN:+t}var Re=function(t,e,n){var r,i,o,a,s,c,u=0,l=!1,f=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var n=r,o=i;return r=i=void 0,u=e,a=t.apply(o,n)}function p(t){return u=t,s=setTimeout(g,e),l?d(t):a}function v(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-u>=o}function g(){var t=Ie();if(v(t))return b(t);s=setTimeout(g,function(t){var n=e-(t-c);return f?Te(n,o-(t-u)):n}(t))}function b(t){return s=void 0,h&&r?d(t):(r=i=void 0,a)}function m(){var t=Ie(),n=v(t);if(r=arguments,i=this,c=t,n){if(void 0===s)return p(c);if(f)return s=setTimeout(g,e),d(c)}return void 0===s&&(s=setTimeout(g,e)),a}return e=Le(e)||0,Ce(n)&&(l=!!n.leading,o=(f="maxWait"in n)?Fe(Le(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h),m.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=i=s=void 0},m.flush=function(){return void 0===s?a:b(Ie())},m},_e=r.Promise,ke=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return A(n),function(t){if(!g(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),Me=T.f,De=Qt("toStringTag"),Ne=Qt("species"),Ue=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Ve={},$e=Qt("iterator"),qe=Array.prototype,Be=function(t,e,n){if(Ue(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},Xe={};Xe[Qt("toStringTag")]="z";var He="[object z]"===String(Xe),We=Qt("toStringTag"),ze="Arguments"==f(function(){return arguments}()),Ke=He?f:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),We))?n:ze?f(e):"Object"==(r=f(e))&&"function"==typeof e.callee?"Arguments":r},Ge=Qt("iterator"),Ye=function(t){var e=t.return;if(void 0!==e)return A(e.call(t)).value},Je=function(t,e){this.stopped=t,this.result=e},Ze=function(t,e,n){var r,i,o,a,s,c,u,l,f=n&&n.that,h=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),v=Be(e,f,1+h+p),g=function(t){return r&&Ye(r),new Je(!0,t)},b=function(t){return h?(A(t),p?v(t[0],t[1],g):v(t[0],t[1])):p?v(t,g):v(t)};if(d)r=t;else{if("function"!=typeof(i=function(t){if(null!=t)return t[Ge]||t["@@iterator"]||Ve[Ke(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(l=i)&&(Ve.Array===l||qe[$e]===l)){for(o=0,a=lt(t.length);a>o;o++)if((s=b(t[o]))&&s instanceof Je)return s;return new Je(!1)}r=i.call(t)}for(c=r.next;!(u=c.call(r)).done;){try{s=b(u.value)}catch(t){throw Ye(r),t}if("object"==typeof s&&s&&s instanceof Je)return s}return new Je(!1)},Qe=Qt("iterator"),tn=!1;try{var en=0,nn={next:function(){return{done:!!en++}},return:function(){tn=!0}};nn[Qe]=function(){return this},Array.from(nn,(function(){throw 2}))}catch(t){}var rn,on,an,sn=Qt("species"),cn=ot("document","documentElement"),un=/(?:iphone|ipod|ipad).*applewebkit/i.test(Bt),ln="process"==f(r.process),fn=r.location,hn=r.setImmediate,dn=r.clearImmediate,pn=r.process,vn=r.MessageChannel,gn=r.Dispatch,bn=0,mn={},yn="onreadystatechange",En=function(t){if(mn.hasOwnProperty(t)){var e=mn[t];delete mn[t],e()}},Sn=function(t){return function(){En(t)}},wn=function(t){En(t.data)},On=function(t){r.postMessage(t+"",fn.protocol+"//"+fn.host)};hn&&dn||(hn=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return mn[++bn]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},rn(bn),bn},dn=function(t){delete mn[t]},ln?rn=function(t){pn.nextTick(Sn(t))}:gn&&gn.now?rn=function(t){gn.now(Sn(t))}:vn&&!un?(an=(on=new vn).port2,on.port1.onmessage=wn,rn=Be(an.postMessage,an,1)):r.addEventListener&&"function"==typeof postMessage&&!r.importScripts&&fn&&"file:"!==fn.protocol&&!i(On)?(rn=On,r.addEventListener("message",wn,!1)):rn=yn in O("script")?function(t){cn.appendChild(O("script")).onreadystatechange=function(){cn.removeChild(this),En(t)}}:function(t){setTimeout(Sn(t),0)});var xn,Pn,jn,An,Fn,Tn,In,Cn,Ln={set:hn,clear:dn},Rn=/web0s(?!.*chrome)/i.test(Bt),_n=j.f,kn=Ln.set,Mn=r.MutationObserver||r.WebKitMutationObserver,Dn=r.document,Nn=r.process,Un=r.Promise,Vn=_n(r,"queueMicrotask"),$n=Vn&&Vn.value;$n||(xn=function(){var t,e;for(ln&&(t=Nn.domain)&&t.exit();Pn;){e=Pn.fn,Pn=Pn.next;try{e()}catch(t){throw Pn?An():jn=void 0,t}}jn=void 0,t&&t.enter()},un||ln||Rn||!Mn||!Dn?Un&&Un.resolve?((In=Un.resolve(void 0)).constructor=Un,Cn=In.then,An=function(){Cn.call(In,xn)}):An=ln?function(){Nn.nextTick(xn)}:function(){kn.call(r,xn)}:(Fn=!0,Tn=Dn.createTextNode(""),new Mn(xn).observe(Tn,{characterData:!0}),An=function(){Tn.data=Fn=!Fn}));var qn,Bn,Xn,Hn,Wn,zn,Kn,Gn=$n||function(t){var e={fn:t,next:void 0};jn&&(jn.next=e),Pn||(Pn=e,An()),jn=e},Yn=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=Ue(e),this.reject=Ue(n)},Jn={f:function(t){return new Yn(t)}},Zn=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Qn="object"==typeof window,tr=Ln.set,er=Qt("species"),nr="Promise",rr=et.get,ir=et.set,or=et.getterFor(nr),ar=_e&&_e.prototype,sr=_e,cr=ar,ur=r.TypeError,lr=r.document,fr=r.process,hr=Jn.f,dr=hr,pr=!!(lr&&lr.createEvent&&r.dispatchEvent),vr="function"==typeof PromiseRejectionEvent,gr="unhandledrejection",br=!1,mr=jt(nr,(function(){var t=U(sr)!==String(sr);if(!t&&66===zt)return!0;if(zt>=51&&/native code/.test(sr))return!1;var e=new sr((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(e.constructor={})[er]=n,!(br=e.then((function(){}))instanceof n)||!t&&Qn&&!vr})),yr=mr||!function(t,e){if(!e&&!tn)return!1;var n=!1;try{var r={};r[Qe]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}((function(t){sr.all(t).catch((function(){}))})),Er=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},Sr=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;Gn((function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var a,s,c,u=n[o++],l=i?u.ok:u.fail,f=u.resolve,h=u.reject,d=u.domain;try{l?(i||(2===t.rejection&&Pr(t),t.rejection=1),!0===l?a=r:(d&&d.enter(),a=l(r),d&&(d.exit(),c=!0)),a===u.promise?h(ur("Promise-chain cycle")):(s=Er(a))?s.call(a,f,h):f(a)):h(r)}catch(t){d&&!c&&d.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Or(t)}))}},wr=function(t,e,n){var i,o;pr?((i=lr.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),r.dispatchEvent(i)):i={promise:e,reason:n},!vr&&(o=r["on"+t])?o(i):t===gr&&function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},Or=function(t){tr.call(r,(function(){var e,n=t.facade,r=t.value;if(xr(t)&&(e=Zn((function(){ln?fr.emit("unhandledRejection",r,n):wr(gr,n,r)})),t.rejection=ln||xr(t)?2:1,e.error))throw e.value}))},xr=function(t){return 1!==t.rejection&&!t.parent},Pr=function(t){tr.call(r,(function(){var e=t.facade;ln?fr.emit("rejectionHandled",e):wr("rejectionhandled",e,t.value)}))},jr=function(t,e,n){return function(r){t(e,r,n)}},Ar=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Sr(t,!0))},Fr=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw ur("Promise can't be resolved itself");var r=Er(e);r?Gn((function(){var n={done:!1};try{r.call(e,jr(Fr,n,t),jr(Ar,n,t))}catch(e){Ar(n,e,t)}})):(t.value=e,t.state=1,Sr(t,!1))}catch(e){Ar({done:!1},e,t)}}};if(mr&&(cr=(sr=function(t){!function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}(this,sr,nr),Ue(t),qn.call(this);var e=rr(this);try{t(jr(Fr,e),jr(Ar,e))}catch(t){Ar(e,t)}}).prototype,(qn=function(t){ir(this,{type:nr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(t,e,n){for(var r in e)nt(t,r,e[r],n);return t}(cr,{then:function(t,e){var n,r,i,o=or(this),a=hr((n=sr,void 0===(i=A(this).constructor)||null==(r=A(i)[sn])?n:Ue(r)));return a.ok="function"!=typeof t||t,a.fail="function"==typeof e&&e,a.domain=ln?fr.domain:void 0,o.parent=!0,o.reactions.push(a),0!=o.state&&Sr(o,!1),a.promise},catch:function(t){return this.then(void 0,t)}}),Bn=function(){var t=new qn,e=rr(t);this.promise=t,this.resolve=jr(Fr,e),this.reject=jr(Ar,e)},Jn.f=hr=function(t){return t===sr||t===Xn?new Bn(t):dr(t)},"function"==typeof _e&&ar!==Object.prototype)){Hn=ar.then,br||(nt(ar,"then",(function(t,e){var n=this;return new sr((function(t,e){Hn.call(n,t,e)})).then(t,e)}),{unsafe:!0}),nt(ar,"catch",cr.catch,{unsafe:!0}));try{delete ar.constructor}catch(t){}ke&&ke(ar,cr)}function Tr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tr(Object(n),!0).forEach((function(e){me(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}Ft({global:!0,wrap:!0,forced:mr},{Promise:sr}),zn=nr,Kn=!1,(Wn=sr)&&!E(Wn=Kn?Wn:Wn.prototype,De)&&Me(Wn,De,{configurable:!0,value:zn}),function(t){var e=ot(t),n=T.f;o&&e&&!e[Ne]&&n(e,Ne,{configurable:!0,get:function(){return this}})}(nr),Xn=ot(nr),Ft({target:nr,stat:!0,forced:mr},{reject:function(t){var e=hr(this);return e.reject.call(void 0,t),e.promise}}),Ft({target:nr,stat:!0,forced:mr},{resolve:function(t){return function(t,e){if(A(t),g(e)&&e.constructor===t)return e;var n=Jn.f(t);return(0,n.resolve)(e),n.promise}(this,t)}}),Ft({target:nr,stat:!0,forced:yr},{all:function(t){var e=this,n=hr(e),r=n.resolve,i=n.reject,o=Zn((function(){var n=Ue(e.resolve),o=[],a=0,s=1;Ze(t,(function(t){var c=a++,u=!1;o.push(void 0),s++,n.call(e,t).then((function(t){u||(u=!0,o[c]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=hr(e),r=n.reject,i=Zn((function(){var i=Ue(e.resolve);Ze(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});function Cr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cr(Object(n),!0).forEach((function(e){me(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class Rr{constructor(t,e={}){if(this.form="object"==typeof t?t:document.querySelector(t),this.submitBtn=this.form.querySelector('[type="submit"]'),this.intervals={},this.isFocusing,this.unBubbledEvents=["blur","focus"],this.options=Lr(Lr({},Rr.defaultOptions),e),!Rr.messages[this.options.locale])throw new Error("The locale ".concat(this.options.locale," is not loaded."));return this.submitHandler=this.handleSubmit.bind(this),this.inputHandler=this.handleInput.bind(this),this.resetHandler=this.handleReset.bind(this),this.form.EagerForm?this.form.EagerForm:(this.start(),this.form.EagerForm=this,this)}start(){this.attachEvents(),this.form.setAttribute("novalidate",!0)}attachEvents(){this.options.revalidate&&this.options.revalidate.forEach(t=>{let e=!1;this.unBubbledEvents.includes(t)&&(e=!0),this.form.addEventListener(t,this.inputHandler,e)}),this.options.captureSubmit&&this.form.addEventListener("submit",this.submitHandler),this.options.captureReset&&this.form.addEventListener("reset",this.resetHandler)}detachEvents(){this.options.revalidate&&this.options.revalidate.forEach(t=>{let e=!1;this.unBubbledEvents.includes(t)&&(e=!0),this.form.removeEventListener(t,this.inputHandler,e)}),this.options.captureSubmit&&this.form.removeEventListener("submit",this.submitHandler),this.options.captureReset&&this.form.addEventListener("reset",this.resetHandler)}static addLocale(t,e){this.messages[t]=e}addMessage(t,e){return Rr.messages[this.options.locale][t]=e,this}setMessages(t){return Rr.messages[this.options.locale]=Lr(Lr({},Rr.messages[this.options.locale]),t),this}static rule(t,e){if(Rr.reservedWords.includes(t))throw new Error("".concat(t," is a reserved word"));if("function"!=typeof e)throw new Error("Callback must be a callable function");Rr.rules[t]=e}validate(){Array.prototype.filter.call(this.form.elements,t=>{this.validateField(t)})}handleSubmit(t){this.validate(),this.options.showSuccessState&&this.form.classList.add(this.options.classes.formValidatedClass);let e=this.getFirstError();e&&(t.preventDefault(),this.options.disableSubmit&&this.disableSubmit(),this.hightlightErrors(e)),this.complete()}enableSubmit(){this.submitBtn.removeAttribute("disabled"),this.submitBtn.classList.remove(this.options.classes.disabled)}disableSubmit(){this.submitBtn.setAttribute("disabled","disabled"),this.submitBtn.classList.add(this.options.classes.disabled)}handleReset(t){this.restoreState()}hightlightErrors(t){this.isFocusing||(this.options.autoScroll&&(this.isFocusing=!0,window.scrollTo({top:Math.round(t.getBoundingClientRect().top)+Math.round(window.scrollY)+-this.options.offsetFocus,behavior:"smooth"}),setTimeout(()=>{this.isFocusing=!1},500)),this.options.focusFirstError&&t.focus())}complete(){this.form.dispatchEvent(new Event("eager:done",{bubbles:!0}))}getFirstError(){let t=this.form.querySelector(":invalid");return t?t.hasAttribute("novalidate")&&"false"!=t.getAttribute("novalidate")?null:this.options.validateWithoutName||t.getAttribute("name")?t:null:null}isValid(){return null==this.getFirstError()}handleInput(t){if(!t.target.dispatchEvent(new Event("eager:before-validate",{bubbles:!0})))return;if(this.options.noTriggerOnTab&&t.keyCode&&9==t.keyCode)return;"change"==t.type&&this.options.disableSubmit&&this.isValid()&&this.enableSubmit();let e=this.validateField.bind(this),n="data-".concat(Rr.RULE_PREFIX,"-debounce"),r="data-".concat(Rr.RULE_PREFIX,"-").concat(t.type,"-debounce"),i=0;t.target.hasAttribute(r)?i=parseInt(t.target.getAttribute(r)):t.target.hasAttribute(n)?i=parseInt(t.target.getAttribute(n)):this.options.debounce[t.type]&&(i=this.options.debounce[t.type]),i>0&&(e=Re(e,i));let o="data-".concat(Rr.RULE_PREFIX,"-delay"),a="data-".concat(Rr.RULE_PREFIX,"-").concat(t.type,"-delay"),s=0;t.target.hasAttribute(a)?s=parseInt(t.target.getAttribute(a)):t.target.hasAttribute(o)?s=parseInt(t.target.getAttribute(o)):this.options.delay[t.type]&&(s=this.options.delay[t.type]),s>0?(clearTimeout(this.intervals[t.type]),this.intervals[t.type]=setTimeout(()=>{e(t.target)},s)):e(t.target),t.target.dispatchEvent(new Event("eager:after-validate",{bubbles:!0}))}validateField(t){if(!t.checkValidity||["button","submit","reset"].includes(t.type))return;if(t.hasAttribute("novalidate")&&"false"!=t.getAttribute("novalidate"))return;if(!this.options.validateWithoutName&&!t.getAttribute("name"))return;let e=!1,n=!1;if(t.checkValidity&&!t.checkValidity())for(let r in t.validity)"customError"!=r?1==t.validity[r]&&(this.setError(t,r),e=!0):n=!0;if(!e){n||this.clearError(t);for(let e in Rr.rules){let n="data-".concat(Rr.RULE_PREFIX,"-").concat(e);t.hasAttribute(n)&&Rr.rules[e].bind(this,t,n)().then(()=>{t.setCustomValidity(""),this.clearError(t)}).catch(e=>{let r="";t.hasAttribute("".concat(n,"-error"))?r=t.getAttribute("".concat(n,"-error")):t.hasAttribute("data-".concat(Rr.RULE_PREFIX,"-error"))?r=t.getAttribute("data-".concat(Rr.RULE_PREFIX,"-error")):e&&e.toString().length&&(r=e),t.setCustomValidity(r),this.setError(t,"customError")})}}}setError(t,e){t.classList.add(this.options.classes.inputInvalidClass),t.classList.remove(this.options.classes.inputValidClass);let n=this.findParent(t);if(n){n.classList.add(this.options.classes.parentInvalidClass),n.classList.remove(this.options.classes.parentValidClass);let e=n.querySelectorAll("[name=".concat(t.getAttribute("name"),"]"));if(e.length>1)for(let t=0;t<e.length;t++)e[t].classList.add(this.options.classes.inputInvalidClass),e[t].classList.remove(this.options.classes.inputValidClass)}this.displayError(t,e)}displayError(t,e){let n=this.findParent(t),r=this.getMessage(t,e);if(n){let e=n.querySelector(this.options.invalidFeedbackSelector);if(e)return e.textContent=r,void e.setAttribute("aria-live","polite");if(!e){let e=document.createElement(this.options.invalidFeedbackName);e.className=this.options.classes.invalidFeedbackClass,e.textContent=r,e.setAttribute("aria-live","polite"),t.insertAdjacentElement(this.options.invalidFeedbackPosition,e)}}}getMessage(t,e){if("customError"==e)return t.validationMessage;let n,r=t.type.toLowerCase(),i="".concat(e).concat(r.charAt(0).toUpperCase()+r.slice(1)),o="data-".concat(Rr.RULE_PREFIX,"-")+e.replace(/[A-Z]/g,"-$&").toLowerCase()+"-error",a="data-".concat(Rr.RULE_PREFIX,"-error");if(t.hasAttribute(o)?n=t.getAttribute(o):t.hasAttribute(a)&&(n=t.getAttribute(a)),!n)switch(e){case"valueMissing":case"typeMismatch":case"rangeOverflow":case"rangeUnderflow":case"badInput":n=this.translate(i),n||(n=this.translate(e));break;default:n=this.translate(e)}if(null==n)return t.validationMessage;let s={count:Number(Rr.unicodeStrLen(t.value.toString())).toLocaleString(this.options.locale),maxlength:Number(t.getAttribute("maxlength")).toLocaleString(this.options.locale),minlength:Number(t.getAttribute("minlength")).toLocaleString(this.options.locale),min:t.getAttribute("min"),max:t.getAttribute("max"),step:Number(t.getAttribute("step")).toLocaleString(this.options.locale)};switch(r){case"number":case"range":s.min=Number(s.min).toLocaleString(this.options.locale),s.max=Number(s.max).toLocaleString(this.options.locale);break;case"date":case"datetime-local":s.min=new Date(s.min).toLocaleString(this.options.locale),s.max=new Date(s.max).toLocaleString(this.options.locale)}return Rr.strtpl(n,s)}static unicodeStrLen(t){return t?t.match(/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g).length:0}clearError(t){let e=this.findParent(t);if(t.classList.remove(this.options.classes.inputInvalidClass),e){this.options.showSuccessState&&e.classList.add(this.options.classes.parentValidClass),e.classList.remove(this.options.classes.parentInvalidClass);let n=e.querySelector(this.options.invalidFeedbackSelector);n&&(n.textContent="");let r=e.querySelectorAll("[name=".concat(t.getAttribute("name"),"]"));if(r.length>1)for(let t=0;t<r.length;t++)r[t].classList.remove(this.options.classes.inputInvalidClass),this.options.showSuccessState&&r[t].classList.add(this.options.classes.inputValidClass)}this.options.showSuccessState&&t.classList.add(this.options.classes.inputValidClass)}clearValidation(t){t.classList.remove(this.options.classes.inputInvalidClass,this.options.classes.inputValidClass);let e=this.findParent(t);if(e){e.classList.remove(this.options.classes.parentInvalidClass,this.options.classes.parentValidClass);let t=e.querySelector(this.options.invalidFeedbackSelector);t&&(t.textContent="")}}restoreState(){this.form.classList.remove(this.options.classes.formValidatedClass),this.options.disableSubmit&&this.enableSubmit(),Array.prototype.filter.call(this.form.elements,t=>{this.clearValidation(t)})}destroy(t=!0){t&&this.restoreState(),this.detachEvents(),delete this.form.EagerForm}findParent(t){let e;return this.options.parentSelector&&(e=t.closest(this.options.parentSelector)),e||t.parentNode}translate(t,e=null){return Rr.messages[this.options.locale][t]?Rr.messages[this.options.locale][t]:e}static strtpl(t,e){return t=t.replace(/\{(\s*?[\w.]+\s*?)}/gm,(function(t,n,r,i){return n in e?e[n]:""}))}}return me(Rr,"version","1.0.2"),me(Rr,"RULE_PREFIX","eager"),me(Rr,"rules",{}),me(Rr,"messages",{}),me(Rr,"reservedWords",["error","debounce","delay"]),me(Rr,"defaultOptions",{locale:"en",showSuccessState:!0,autoScroll:!0,focusFirstError:!0,offsetFocus:50,revalidate:["blur","change","keyup"],noTriggerOnTab:!0,delay:{},debounce:{blur:100},validateWithoutName:!1,captureSubmit:!0,disableSubmit:!0,captureReset:!0,parentSelector:null,invalidFeedbackName:"div",invalidFeedbackPosition:"afterend",invalidFeedbackSelector:".invalid-feedback",classes:{formValidatedClass:"was-validated",inputValidClass:"is-valid",inputInvalidClass:"is-invalid",parentValidClass:"has-valid-input",parentInvalidClass:"has-invalid-input",invalidFeedbackClass:"invalid-feedback",disabled:"disabled"}}),Rr.addLocale("en",{badInput:"Please provide the correct input",valueMissing:"Please fill out this field.",valueMissingCheckbox:"Please check this box if you want to proceed.",valueMissingRadio:"Please select one of these options.",valueMissingSelect:"Please select one of these options.",patternMismatch:"Please match the requested format",typeMismatch:"Please match the requested type",typeMismatchEmail:"Please enter an email address",typeMismatchUrl:"Please enter an URL",tooLong:"Please shorten this text to {maxlength} characters or less (you are currently using {count} characters).",tooShort:"Please lengthen this text to {minlength} characters or more (you are currently using {count} characters).",rangeOverflow:"Please enter a value that is no more than {max}.",rangeUnderflow:"Please enter a value that is no less than {min}.",stepMismatch:"Please provide a valid value",remoteInvalid:"The field doesn't pass remote validation.",valueNotEqual:"The values don't match"}),Rr.rule("match",(function(t,e){let n=this.translate("valueNotEqual");return new Promise((r,i)=>{t.value===document.querySelector(t.getAttribute(e)).value?r():i(n)})})),Rr.rule("reference",(function(t,e){return new Promise((n,r)=>{let i=document.querySelector(t.getAttribute(e));i.value.length&&i.dispatchEvent(new Event("change",{bubbles:!0})),n()})})),Rr.rule("remote",(function(t,e){let n=decodeURIComponent(t.getAttribute(e)).replace("{value}",t.value),r="true"==t.getAttribute("".concat(e,"-reverse")),i="__remote_request_".concat(t.id);void 0===this[i]&&(this[i]=new XMLHttpRequest);let o,a={method:"GET",headers:{},data:null};if(t.hasAttribute("".concat(e,"-options")))try{o=JSON.parse(t.getAttribute("".concat(e,"-options")))}catch(t){}o&&(a=Ir(Ir({},a),o)),this[i].readyState>0&&this[i].readyState<4&&this[i].abort();var s=this[i];s.open(a.method,n);for(const t in a.headers)s.setRequestHeader(t,a.headers[t]);var c=this.translate("remoteInvalid");return new Promise((t,e)=>{s.onload=function(){let n=200==this.status;r&&(n=!n),n?t():e(c)},s.onerror=function(){console.log("".concat(this.status," ").concat(this.statusText))},s.send(a.data)})})),Rr}));
