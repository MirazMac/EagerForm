/*!
 * rollup-library-starter-kit
 * Rollup starter kit for creating libraries
 *
 * @version v1.0.0
 * @author George Raptis <georapbox@gmail.com>
 * @homepage https://github.com/georapbox/rollup-library-starter-kit#readme
 * @repository git+https://github.com/georapbox/rollup-library-starter-kit.git
 * @license MIT
 */
var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){var e={exports:{}};return t(e,e.exports),e.exports}var n=function(t){return t&&t.Math==Math&&t},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")(),i=function(t){try{return!!t()}catch(t){return!0}},o=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),a={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,c={f:s&&!a.call({1:2},1)?function(t){var e=s(this,t);return!!e&&e.enumerable}:a},u=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},l={}.toString,f=function(t){return l.call(t).slice(8,-1)},p="".split,h=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==f(t)?p.call(t,""):Object(t)}:Object,d=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},v=function(t){return h(d(t))},g=function(t){return"object"==typeof t?null!==t:"function"==typeof t},m=function(t,e){if(!g(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!g(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!g(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!g(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},y=function(t){return Object(d(t))},b={}.hasOwnProperty,E=Object.hasOwn||function(t,e){return b.call(y(t),e)},S=r.document,w=g(S)&&g(S.createElement),O=function(t){return w?S.createElement(t):{}},x=!o&&!i((function(){return 7!=Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a})),j=Object.getOwnPropertyDescriptor,P={f:o?j:function(t,e){if(t=v(t),e=m(e,!0),x)try{return j(t,e)}catch(t){}if(E(t,e))return u(!c.f.call(t,e),t[e])}},C=function(t){if(!g(t))throw TypeError(String(t)+" is not an object");return t},T=Object.defineProperty,F={f:o?T:function(t,e,n){if(C(t),e=m(e,!0),C(n),x)try{return T(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},A=o?function(t,e,n){return F.f(t,e,u(1,n))}:function(t,e,n){return t[e]=n,t},L=function(t,e){try{A(r,t,e)}catch(n){r[t]=e}return e},I=r["__core-js_shared__"]||L("__core-js_shared__",{}),R=Function.toString;"function"!=typeof I.inspectSource&&(I.inspectSource=function(t){return R.call(t)});var _,M,D,k,N=I.inspectSource,U=r.WeakMap,V="function"==typeof U&&/native code/.test(N(U)),$=e((function(t){(t.exports=function(t,e){return I[t]||(I[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.13.1",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),H=0,q=Math.random(),B=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++H+q).toString(36)},X=$("keys"),z={},K=r.WeakMap;if(V||I.state){var G=I.state||(I.state=new K),W=G.get,Y=G.has,J=G.set;_=function(t,e){if(Y.call(G,t))throw new TypeError("Object already initialized");return e.facade=t,J.call(G,t,e),e},M=function(t){return W.call(G,t)||{}},D=function(t){return Y.call(G,t)}}else{var Z=X[k="state"]||(X[k]=B(k));z[Z]=!0,_=function(t,e){if(E(t,Z))throw new TypeError("Object already initialized");return e.facade=t,A(t,Z,e),e},M=function(t){return E(t,Z)?t[Z]:{}},D=function(t){return E(t,Z)}}var Q={set:_,get:M,has:D,enforce:function(t){return D(t)?M(t):_(t,{})},getterFor:function(t){return function(e){var n;if(!g(e)||(n=M(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},tt=e((function(t){var e=Q.get,n=Q.enforce,i=String(String).split("String");(t.exports=function(t,e,o,a){var s,c=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,l=!!a&&!!a.noTargetGet;"function"==typeof o&&("string"!=typeof e||E(o,"name")||A(o,"name",e),(s=n(o)).source||(s.source=i.join("string"==typeof e?e:""))),t!==r?(c?!l&&t[e]&&(u=!0):delete t[e],u?t[e]=o:A(t,e,o)):u?t[e]=o:L(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||N(this)}))})),et=r,nt=function(t){return"function"==typeof t?t:void 0},rt=function(t,e){return arguments.length<2?nt(et[t])||nt(r[t]):et[t]&&et[t][e]||r[t]&&r[t][e]},it=Math.ceil,ot=Math.floor,at=function(t){return isNaN(t=+t)?0:(t>0?ot:it)(t)},st=Math.min,ct=function(t){return t>0?st(at(t),9007199254740991):0},ut=Math.max,lt=Math.min,ft=function(t){return function(e,n,r){var i,o=v(e),a=ct(o.length),s=function(t,e){var n=at(t);return n<0?ut(n+e,0):lt(n,e)}(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},pt={includes:ft(!0),indexOf:ft(!1)}.indexOf,ht=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),dt={f:Object.getOwnPropertyNames||function(t){return function(t,e){var n,r=v(t),i=0,o=[];for(n in r)!E(z,n)&&E(r,n)&&o.push(n);for(;e.length>i;)E(r,n=e[i++])&&(~pt(o,n)||o.push(n));return o}(t,ht)}},vt={f:Object.getOwnPropertySymbols},gt=rt("Reflect","ownKeys")||function(t){var e=dt.f(C(t)),n=vt.f;return n?e.concat(n(t)):e},mt=function(t,e){for(var n=gt(e),r=F.f,i=P.f,o=0;o<n.length;o++){var a=n[o];E(t,a)||r(t,a,i(e,a))}},yt=/#|\.prototype\./,bt=function(t,e){var n=St[Et(t)];return n==Ot||n!=wt&&("function"==typeof e?i(e):!!e)},Et=bt.normalize=function(t){return String(t).replace(yt,".").toLowerCase()},St=bt.data={},wt=bt.NATIVE="N",Ot=bt.POLYFILL="P",xt=bt,jt=P.f,Pt=function(t,e){var n,i,o,a,s,c=t.target,u=t.global,l=t.stat;if(n=u?r:l?r[c]||L(c,{}):(r[c]||{}).prototype)for(i in e){if(a=e[i],o=t.noTargetGet?(s=jt(n,i))&&s.value:n[i],!xt(u?i:c+(l?".":"#")+i,t.forced)&&void 0!==o){if(typeof a==typeof o)continue;mt(a,o)}(t.sham||o&&o.sham)&&A(a,"sham",!0),tt(n,i,a,t)}},Ct=function(){var t=C(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function Tt(t,e){return RegExp(t,e)}var Ft,At,Lt={UNSUPPORTED_Y:i((function(){var t=Tt("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:i((function(){var t=Tt("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},It=RegExp.prototype.exec,Rt=$("native-string-replace",String.prototype.replace),_t=It,Mt=(Ft=/a/,At=/b*/g,It.call(Ft,"a"),It.call(At,"a"),0!==Ft.lastIndex||0!==At.lastIndex),Dt=Lt.UNSUPPORTED_Y||Lt.BROKEN_CARET,kt=void 0!==/()??/.exec("")[1];(Mt||kt||Dt)&&(_t=function(t){var e,n,r,i,o=this,a=Dt&&o.sticky,s=Ct.call(o),c=o.source,u=0,l=t;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),l=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(c="(?: "+c+")",l=" "+l,u++),n=new RegExp("^(?:"+c+")",s)),kt&&(n=new RegExp("^"+c+"$(?!\\s)",s)),Mt&&(e=o.lastIndex),r=It.call(a?n:o,l),a?r?(r.input=r.input.slice(u),r[0]=r[0].slice(u),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:Mt&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),kt&&r&&r.length>1&&Rt.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var Nt=_t;Pt({target:"RegExp",proto:!0,forced:/./.exec!==Nt},{exec:Nt});var Ut,Vt,$t=rt("navigator","userAgent")||"",Ht=r.process,qt=Ht&&Ht.versions,Bt=qt&&qt.v8;Bt?Vt=(Ut=Bt.split("."))[0]<4?1:Ut[0]+Ut[1]:$t&&(!(Ut=$t.match(/Edge\/(\d+)/))||Ut[1]>=74)&&(Ut=$t.match(/Chrome\/(\d+)/))&&(Vt=Ut[1]);var Xt=Vt&&+Vt,zt=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Xt&&Xt<41})),Kt=zt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Gt=$("wks"),Wt=r.Symbol,Yt=Kt?Wt:Wt&&Wt.withoutSetter||B,Jt=function(t){return E(Gt,t)&&(zt||"string"==typeof Gt[t])||(zt&&E(Wt,t)?Gt[t]=Wt[t]:Gt[t]=Yt("Symbol."+t)),Gt[t]},Zt=Jt("species"),Qt=RegExp.prototype,te=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),ee="$0"==="a".replace(/./,"$0"),ne=Jt("replace"),re=!!/./[ne]&&""===/./[ne]("a","$0"),ie=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),oe=function(t){return function(e,n){var r,i,o=String(d(e)),a=at(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},ae={codeAt:oe(!1),charAt:oe(!0)}.charAt,se=function(t,e,n){return e+(n?ae(t,e).length:1)},ce=Math.floor,ue="".replace,le=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,fe=/\$([$&'`]|\d{1,2})/g,pe=function(t,e,n,r,i,o){var a=n+t.length,s=r.length,c=fe;return void 0!==i&&(i=y(i),c=le),ue.call(o,c,(function(o,c){var u;switch(c.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(a);case"<":u=i[c.slice(1,-1)];break;default:var l=+c;if(0===l)return o;if(l>s){var f=ce(l/10);return 0===f?o:f<=s?void 0===r[f-1]?c.charAt(1):r[f-1]+c.charAt(1):o}u=r[l-1]}return void 0===u?"":u}))},he=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==f(t))throw TypeError("RegExp#exec called on incompatible receiver");return Nt.call(t,e)},de=Math.max,ve=Math.min;!function(t,e,n,r){var o=Jt(t),a=!i((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),s=a&&!i((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[Zt]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return e=!0,null},n[o](""),!e}));if(!a||!s||"replace"===t&&(!te||!ee||re)||"split"===t&&!ie){var c=/./[o],u=n(o,""[t],(function(t,e,n,r,i){var o=e.exec;return o===Nt||o===Qt.exec?a&&!i?{done:!0,value:c.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:ee,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:re}),l=u[0],f=u[1];tt(String.prototype,t,l),tt(Qt,o,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)})}r&&A(Qt[o],"sham",!0)}("replace",2,(function(t,e,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(n,r){var i=d(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(a)){var s=n(e,t,this,r);if(s.done)return s.value}var c=C(t),u=String(this),l="function"==typeof r;l||(r=String(r));var f=c.global;if(f){var p=c.unicode;c.lastIndex=0}for(var h=[];;){var d=he(c,u);if(null===d)break;if(h.push(d),!f)break;""===String(d[0])&&(c.lastIndex=se(u,ct(c.lastIndex),p))}for(var v,g="",m=0,y=0;y<h.length;y++){d=h[y];for(var b=String(d[0]),E=de(ve(at(d.index),u.length),0),S=[],w=1;w<d.length;w++)S.push(void 0===(v=d[w])?v:String(v));var O=d.groups;if(l){var x=[b].concat(S,E,u);void 0!==O&&x.push(O);var j=String(r.apply(void 0,x))}else j=pe(b,u,E,S,O,r);E>=m&&(g+=u.slice(m,E)+j,m=E+b.length)}return g+u.slice(m)}]}));var ge,me="\t\n\v\f\r                　\u2028\u2029\ufeff",ye="["+me+"]",be=RegExp("^"+ye+ye+"*"),Ee=RegExp(ye+ye+"*$"),Se=function(t){return function(e){var n=String(d(e));return 1&t&&(n=n.replace(be,"")),2&t&&(n=n.replace(Ee,"")),n}},we={start:Se(1),end:Se(2),trim:Se(3)},Oe=we.trim;function xe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Pt({target:"String",proto:!0,forced:(ge="trim",i((function(){return!!me[ge]()||"​᠎"!="​᠎"[ge]()||me[ge].name!==ge})))},{trim:function(){return Oe(this)}});var je=/^\s+|\s+$/g,Pe=/^[-+]0x[0-9a-f]+$/i,Ce=/^0b[01]+$/i,Te=/^0o[0-7]+$/i,Fe=parseInt,Ae="object"==typeof t&&t&&t.Object===Object&&t,Le="object"==typeof self&&self&&self.Object===Object&&self,Ie=Ae||Le||Function("return this")(),Re=Object.prototype.toString,_e=Math.max,Me=Math.min,De=function(){return Ie.Date.now()};function ke(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ne(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==Re.call(t)}(t))return NaN;if(ke(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ke(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(je,"");var n=Ce.test(t);return n||Te.test(t)?Fe(t.slice(2),n?2:8):Pe.test(t)?NaN:+t}var Ue=function(t,e,n){var r,i,o,a,s,c,u=0,l=!1,f=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function h(e){var n=r,o=i;return r=i=void 0,u=e,a=t.apply(o,n)}function d(t){return u=t,s=setTimeout(g,e),l?h(t):a}function v(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-u>=o}function g(){var t=De();if(v(t))return m(t);s=setTimeout(g,function(t){var n=e-(t-c);return f?Me(n,o-(t-u)):n}(t))}function m(t){return s=void 0,p&&r?h(t):(r=i=void 0,a)}function y(){var t=De(),n=v(t);if(r=arguments,i=this,c=t,n){if(void 0===s)return d(c);if(f)return s=setTimeout(g,e),h(c)}return void 0===s&&(s=setTimeout(g,e)),a}return e=Ne(e)||0,ke(n)&&(l=!!n.leading,o=(f="maxWait"in n)?_e(Ne(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=i=s=void 0},y.flush=function(){return void 0===s?a:m(De())},y},Ve=r.Promise,$e=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return C(n),function(t){if(!g(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),He=F.f,qe=Jt("toStringTag"),Be=Jt("species"),Xe=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},ze={},Ke=Jt("iterator"),Ge=Array.prototype,We=function(t,e,n){if(Xe(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},Ye={};Ye[Jt("toStringTag")]="z";var Je="[object z]"===String(Ye),Ze=Jt("toStringTag"),Qe="Arguments"==f(function(){return arguments}()),tn=Je?f:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ze))?n:Qe?f(e):"Object"==(r=f(e))&&"function"==typeof e.callee?"Arguments":r},en=Jt("iterator"),nn=function(t){var e=t.return;if(void 0!==e)return C(e.call(t)).value},rn=function(t,e){this.stopped=t,this.result=e},on=function(t,e,n){var r,i,o,a,s,c,u,l,f=n&&n.that,p=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),v=We(e,f,1+p+d),g=function(t){return r&&nn(r),new rn(!0,t)},m=function(t){return p?(C(t),d?v(t[0],t[1],g):v(t[0],t[1])):d?v(t,g):v(t)};if(h)r=t;else{if("function"!=typeof(i=function(t){if(null!=t)return t[en]||t["@@iterator"]||ze[tn(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(l=i)&&(ze.Array===l||Ge[Ke]===l)){for(o=0,a=ct(t.length);a>o;o++)if((s=m(t[o]))&&s instanceof rn)return s;return new rn(!1)}r=i.call(t)}for(c=r.next;!(u=c.call(r)).done;){try{s=m(u.value)}catch(t){throw nn(r),t}if("object"==typeof s&&s&&s instanceof rn)return s}return new rn(!1)},an=Jt("iterator"),sn=!1;try{var cn=0,un={next:function(){return{done:!!cn++}},return:function(){sn=!0}};un[an]=function(){return this},Array.from(un,(function(){throw 2}))}catch(t){}var ln,fn,pn,hn=Jt("species"),dn=rt("document","documentElement"),vn=/(?:iphone|ipod|ipad).*applewebkit/i.test($t),gn="process"==f(r.process),mn=r.location,yn=r.setImmediate,bn=r.clearImmediate,En=r.process,Sn=r.MessageChannel,wn=r.Dispatch,On=0,xn={},jn=function(t){if(xn.hasOwnProperty(t)){var e=xn[t];delete xn[t],e()}},Pn=function(t){return function(){jn(t)}},Cn=function(t){jn(t.data)},Tn=function(t){r.postMessage(t+"",mn.protocol+"//"+mn.host)};yn&&bn||(yn=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return xn[++On]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},ln(On),On},bn=function(t){delete xn[t]},gn?ln=function(t){En.nextTick(Pn(t))}:wn&&wn.now?ln=function(t){wn.now(Pn(t))}:Sn&&!vn?(pn=(fn=new Sn).port2,fn.port1.onmessage=Cn,ln=We(pn.postMessage,pn,1)):r.addEventListener&&"function"==typeof postMessage&&!r.importScripts&&mn&&"file:"!==mn.protocol&&!i(Tn)?(ln=Tn,r.addEventListener("message",Cn,!1)):ln="onreadystatechange"in O("script")?function(t){dn.appendChild(O("script")).onreadystatechange=function(){dn.removeChild(this),jn(t)}}:function(t){setTimeout(Pn(t),0)});var Fn,An,Ln,In,Rn,_n,Mn,Dn,kn={set:yn,clear:bn},Nn=/web0s(?!.*chrome)/i.test($t),Un=P.f,Vn=kn.set,$n=r.MutationObserver||r.WebKitMutationObserver,Hn=r.document,qn=r.process,Bn=r.Promise,Xn=Un(r,"queueMicrotask"),zn=Xn&&Xn.value;zn||(Fn=function(){var t,e;for(gn&&(t=qn.domain)&&t.exit();An;){e=An.fn,An=An.next;try{e()}catch(t){throw An?In():Ln=void 0,t}}Ln=void 0,t&&t.enter()},vn||gn||Nn||!$n||!Hn?Bn&&Bn.resolve?((Mn=Bn.resolve(void 0)).constructor=Bn,Dn=Mn.then,In=function(){Dn.call(Mn,Fn)}):In=gn?function(){qn.nextTick(Fn)}:function(){Vn.call(r,Fn)}:(Rn=!0,_n=Hn.createTextNode(""),new $n(Fn).observe(_n,{characterData:!0}),In=function(){_n.data=Rn=!Rn}));var Kn,Gn,Wn,Yn,Jn,Zn,Qn,tr=zn||function(t){var e={fn:t,next:void 0};Ln&&(Ln.next=e),An||(An=e,In()),Ln=e},er=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=Xe(e),this.reject=Xe(n)},nr={f:function(t){return new er(t)}},rr=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},ir="object"==typeof window,or=kn.set,ar=Jt("species"),sr="Promise",cr=Q.get,ur=Q.set,lr=Q.getterFor(sr),fr=Ve&&Ve.prototype,pr=Ve,hr=fr,dr=r.TypeError,vr=r.document,gr=r.process,mr=nr.f,yr=mr,br=!!(vr&&vr.createEvent&&r.dispatchEvent),Er="function"==typeof PromiseRejectionEvent,Sr=!1,wr=xt(sr,(function(){var t=N(pr)!==String(pr);if(!t&&66===Xt)return!0;if(Xt>=51&&/native code/.test(pr))return!1;var e=new pr((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(e.constructor={})[ar]=n,!(Sr=e.then((function(){}))instanceof n)||!t&&ir&&!Er})),Or=wr||!function(t,e){if(!e&&!sn)return!1;var n=!1;try{var r={};r[an]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}((function(t){pr.all(t).catch((function(){}))})),xr=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},jr=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;tr((function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var a,s,c,u=n[o++],l=i?u.ok:u.fail,f=u.resolve,p=u.reject,h=u.domain;try{l?(i||(2===t.rejection&&Fr(t),t.rejection=1),!0===l?a=r:(h&&h.enter(),a=l(r),h&&(h.exit(),c=!0)),a===u.promise?p(dr("Promise-chain cycle")):(s=xr(a))?s.call(a,f,p):f(a)):p(r)}catch(t){h&&!c&&h.exit(),p(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Cr(t)}))}},Pr=function(t,e,n){var i,o;br?((i=vr.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),r.dispatchEvent(i)):i={promise:e,reason:n},!Er&&(o=r["on"+t])?o(i):"unhandledrejection"===t&&function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},Cr=function(t){or.call(r,(function(){var e,n=t.facade,r=t.value;if(Tr(t)&&(e=rr((function(){gn?gr.emit("unhandledRejection",r,n):Pr("unhandledrejection",n,r)})),t.rejection=gn||Tr(t)?2:1,e.error))throw e.value}))},Tr=function(t){return 1!==t.rejection&&!t.parent},Fr=function(t){or.call(r,(function(){var e=t.facade;gn?gr.emit("rejectionHandled",e):Pr("rejectionhandled",e,t.value)}))},Ar=function(t,e,n){return function(r){t(e,r,n)}},Lr=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,jr(t,!0))},Ir=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw dr("Promise can't be resolved itself");var r=xr(e);r?tr((function(){var n={done:!1};try{r.call(e,Ar(Ir,n,t),Ar(Lr,n,t))}catch(e){Lr(n,e,t)}})):(t.value=e,t.state=1,jr(t,!1))}catch(e){Lr({done:!1},e,t)}}};if(wr&&(hr=(pr=function(t){!function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}(this,pr,sr),Xe(t),Kn.call(this);var e=cr(this);try{t(Ar(Ir,e),Ar(Lr,e))}catch(t){Lr(e,t)}}).prototype,(Kn=function(t){ur(this,{type:sr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(t,e,n){for(var r in e)tt(t,r,e[r],n);return t}(hr,{then:function(t,e){var n,r,i,o=lr(this),a=mr((n=pr,void 0===(i=C(this).constructor)||null==(r=C(i)[hn])?n:Xe(r)));return a.ok="function"!=typeof t||t,a.fail="function"==typeof e&&e,a.domain=gn?gr.domain:void 0,o.parent=!0,o.reactions.push(a),0!=o.state&&jr(o,!1),a.promise},catch:function(t){return this.then(void 0,t)}}),Gn=function(){var t=new Kn,e=cr(t);this.promise=t,this.resolve=Ar(Ir,e),this.reject=Ar(Lr,e)},nr.f=mr=function(t){return t===pr||t===Wn?new Gn(t):yr(t)},"function"==typeof Ve&&fr!==Object.prototype)){Yn=fr.then,Sr||(tt(fr,"then",(function(t,e){var n=this;return new pr((function(t,e){Yn.call(n,t,e)})).then(t,e)}),{unsafe:!0}),tt(fr,"catch",hr.catch,{unsafe:!0}));try{delete fr.constructor}catch(t){}$e&&$e(fr,hr)}function Rr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rr(Object(n),!0).forEach((function(e){xe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}Pt({global:!0,wrap:!0,forced:wr},{Promise:pr}),Zn=sr,Qn=!1,(Jn=pr)&&!E(Jn=Qn?Jn:Jn.prototype,qe)&&He(Jn,qe,{configurable:!0,value:Zn}),function(t){var e=rt(t),n=F.f;o&&e&&!e[Be]&&n(e,Be,{configurable:!0,get:function(){return this}})}(sr),Wn=rt(sr),Pt({target:sr,stat:!0,forced:wr},{reject:function(t){var e=mr(this);return e.reject.call(void 0,t),e.promise}}),Pt({target:sr,stat:!0,forced:wr},{resolve:function(t){return function(t,e){if(C(t),g(e)&&e.constructor===t)return e;var n=nr.f(t);return(0,n.resolve)(e),n.promise}(this,t)}}),Pt({target:sr,stat:!0,forced:Or},{all:function(t){var e=this,n=mr(e),r=n.resolve,i=n.reject,o=rr((function(){var n=Xe(e.resolve),o=[],a=0,s=1;on(t,(function(t){var c=a++,u=!1;o.push(void 0),s++,n.call(e,t).then((function(t){u||(u=!0,o[c]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=mr(e),r=n.reject,i=rr((function(){var i=Xe(e.resolve);on(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});function Mr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mr(Object(n),!0).forEach((function(e){xe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class kr{constructor(t,e={}){if(this.form="object"==typeof t?t:document.querySelector(t),this.submitBtn=this.form.querySelector('[type="submit"]'),this.selectorElement="input, select, textarea",this.selector=':input:not([type="hidden"]):not([type="submit"]):not([type="reset"]):not(button)',this.intervals={},this.isFocusing,this.options=Dr(Dr({},kr.defaultOptions),e),!kr.messages[this.options.locale])throw new Error("The locale ".concat(this.options.locale," is not loaded."));return this.submitHandler=this.handleSubmit.bind(this),this.inputHandler=this.handleInput.bind(this),this.resetHandler=this.handleReset.bind(this),this.form.EagerForm?this.form.EagerForm:(this.start(),this.form.EagerForm=this,this)}start(){this.attachEvents(),this.form.setAttribute("novalidate",!0)}attachEvents(){this.options.revalidate&&this.options.revalidate.forEach(t=>{let e=!1;"blur"==t&&(e=!0),this.form.addEventListener(t,this.inputHandler,e)}),this.options.captureSubmit&&this.form.addEventListener("submit",this.submitHandler),this.options.captureReset&&this.form.addEventListener("reset",this.resetHandler)}detachEvents(){this.options.revalidate&&this.options.revalidate.forEach(t=>{let e=!1;"blur"==t&&(e=!0),this.form.removeEventListener(t,this.inputHandler,e)}),this.options.captureSubmit&&this.form.removeEventListener("submit",this.submitHandler),this.options.captureReset&&this.form.addEventListener("reset",this.resetHandler)}static addLocale(t,e){this.messages[t]=e}addMessage(t,e){return kr.messages[this.options.locale][t]=e,this}setMessages(t){return kr.messages[this.options.locale]=Dr(Dr({},kr.messages[this.options.locale]),t),this}static rule(t,e){kr.rules[t]=e}validate(){Array.prototype.filter.call(this.form.elements,t=>{this.validateField(t)})}handleSubmit(t){this.validate(),this.options.showSuccessState&&this.form.classList.add(this.options.classes.formValidatedClass);let e=this.isValid();e&&(t.preventDefault(),this.options.focusFirstError&&this.focusFirstError(e)),this.complete()}handleReset(t){this.restoreState()}focusFirstError(t){this.isFocusing||(this.options.autoScroll&&(this.isFocusing=!0,window.scrollTo({top:Math.round(t.getBoundingClientRect().top)+Math.round(window.scrollY)+-this.options.offsetFocus,behavior:"smooth"}),setTimeout(()=>{this.isFocusing=!1},500)),t.focus())}complete(){let t=document.createEvent("Event");t.initEvent("eager:done",!0,!0),this.form.dispatchEvent(t)}isValid(){return this.form.querySelector(":invalid")}handleInput(t){let e=this.validateField.bind(this),n="data-".concat(kr.RULE_PREFIX,"-debounce"),r="data-".concat(kr.RULE_PREFIX,"-").concat(t.type,"-debounce"),i=0;t.target.hasAttribute(r)?i=parseInt(t.target.getAttribute(r)):t.target.hasAttribute(n)?i=parseInt(t.target.getAttribute(n)):this.options.debounce[t.type]&&(i=this.options.debounce[t.type]),i>0&&(e=Ue(e,i));let o="data-".concat(kr.RULE_PREFIX,"-delay"),a="data-".concat(kr.RULE_PREFIX,"-").concat(t.type,"-delay"),s=0;t.target.hasAttribute(a)?s=parseInt(t.target.getAttribute(a)):t.target.hasAttribute(o)?s=parseInt(t.target.getAttribute(o)):this.options.delay[t.type]&&(s=this.options.delay[t.type]),s>0?(clearTimeout(this.intervals[t.type]),this.intervals[t.type]=setTimeout(()=>{e(t.target)},s)):e(t.target)}validateField(t){if(!(t instanceof window.HTMLButtonElement||t instanceof window.HTMLTextAreaElement||t instanceof window.HTMLSelectElement||t instanceof window.HTMLInputElement))return;if(t.hasAttribute("novalidate")&&t.getAttribute("novalidate"))return;let e=!1,n=!1;if(t.checkValidity&&!t.checkValidity())for(let r in t.validity)"customError"!==r?!0===t.validity[r]&&(this.setError(t,r),e=!0):n=!0;if(!e){n||this.clearError(t);for(let e in kr.rules){let n="data-".concat(kr.RULE_PREFIX,"-").concat(e);t.hasAttribute(n)&&kr.rules[e].bind(this,t,n)().then(()=>{t.setCustomValidity(""),this.clearError(t)}).catch(e=>{t.hasAttribute("".concat(n,"-error"))?t.setCustomValidity(t.getAttribute("".concat(n,"-error"))):e&&e.toString().length&&t.setCustomValidity(e),this.setError(t,"customError")})}}}setError(t,e){t.classList.add(this.options.classes.inputInvalidClass),t.classList.remove(this.options.classes.inputValidClass);let n=t.closest("."+this.options.parentClass);if(n){n.classList.add(this.options.classes.parentInvalidClass),n.classList.remove(this.options.classes.parentValidClass);let t=this.getSiblings(n);if(t.length>1)for(let e=0;e<t.length;e++)t[e].classList.add(this.options.classes.inputInvalidClass),t[e].classList.remove(this.options.classes.inputValidClass)}this.displayError(t,e)}displayError(t,e){let n=t.closest("."+this.options.parentClass),r=this.getMessage(t,e);if(n){let e=n.querySelector("."+this.options.invalidFeedbackClass);if(e)return void(e.textContent=r);if(!e){let e=document.createElement(this.options.invalidFeedbackName);e.className=this.options.invalidFeedbackClass,e.textContent=r,t.insertAdjacentElement(this.options.invalidFeedbackPosition,e)}}}getMessage(t,e){if("customError"===e)return t.validationMessage;let n,r=t.type.toLowerCase(),i="".concat(e).concat(r.charAt(0).toUpperCase()+r.slice(1)),o="data-".concat(kr.RULE_PREFIX,"-")+e.replace(/[A-Z]/g,"-$&").toLowerCase()+"-error",a="data-".concat(kr.RULE_PREFIX,"-error");if(t.hasAttribute(o)?n=t.getAttribute(o):t.hasAttribute(a)&&(n=t.getAttribute(a)),!n)switch(e){case"valueMissing":case"typeMismatch":case"rangeOverflow":case"rangeUnderflow":case"badInput":n=this.translate(i),n||(n=this.translate(e));break;default:n=this.translate(e)}if(null==n)return t.validationMessage;let s={count:Number(kr.unicodeStrLen(t.value.toString())).toLocaleString(this.options.locale),maxlength:Number(t.getAttribute("maxlength")).toLocaleString(this.options.locale),minlength:Number(t.getAttribute("minlength")).toLocaleString(this.options.locale),min:t.getAttribute("min"),max:t.getAttribute("max"),step:Number(t.getAttribute("step")).toLocaleString(this.options.locale)};switch(r){case"number":case"range":s.min=Number(s.min).toLocaleString(this.options.locale),s.max=Number(s.max).toLocaleString(this.options.locale);break;case"date":case"datetime-local":s.min=new Date(s.min).toLocaleString(this.options.locale),s.max=new Date(s.max).toLocaleString(this.options.locale)}return kr.strtpl(n,s)}static unicodeStrLen(t){return t?t.match(/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g).length:0}getSiblings(t){let e=this.selectorElement.split(","),n=this.selector.split(":input")[1],r=[];for(let i=0;i<e.length;i++)t.querySelectorAll(e[i].trim()+n).forEach(t=>{null!==t.offsetParent&&r.push(t)});return r}clearError(t){let e=t.closest("."+this.options.parentClass);if(t.classList.remove(this.options.classes.inputInvalidClass),e){this.options.showSuccessState&&e.classList.add(this.options.classes.parentValidClass),e.classList.remove(this.options.classes.parentInvalidClass);let t=e.querySelector("."+this.options.invalidFeedbackClass);t&&(t.textContent="");let n=this.getSiblings(e);if(n.length>1)for(let t=0;t<n.length;t++)n[t].classList.remove(this.options.classes.inputInvalidClass),this.options.showSuccessState&&n[t].classList.add(this.options.classes.inputValidClass)}this.options.showSuccessState&&t.classList.add(this.options.classes.inputValidClass)}clearValidation(t){t.classList.remove(this.options.classes.inputInvalidClass,this.options.classes.inputValidClass);let e=t.closest("."+this.options.parentClass);if(e){e.classList.remove(this.options.classes.parentInvalidClass,this.options.classes.parentValidClass);let t=e.querySelector("."+this.options.invalidFeedbackClass);t&&(t.textContent="")}}restoreState(){this.form.classList.remove(this.options.classes.formValidatedClass),Array.prototype.filter.call(this.form.elements,t=>{this.clearValidation(t)})}destroy(t=!0){t&&this.restoreState(),this.detachEvents(),delete this.form.EagerForm}translate(t,e=null){return kr.messages[this.options.locale][t]?kr.messages[this.options.locale][t]:e}static strtpl(t,e){return t=t.replace(/\{(\s*?[\w.]+\s*?)}/gm,(function(t,n,r,i){return n in e?e[n]:""}))}}xe(kr,"RULE_PREFIX","eager"),xe(kr,"rules",{}),xe(kr,"messages",{}),xe(kr,"defaultOptions",{locale:"en",showSuccessState:!0,autoScroll:!0,focusFirstError:!0,offsetFocus:50,revalidate:["blur","change","keyup"],delay:{},debounce:{blur:150},captureSubmit:!0,disableSubmit:!0,captureReset:!0,invalidFeedbackName:"div",invalidFeedbackPosition:"afterend",invalidFeedbackClass:"invalid-feedback",parentClass:"form-group",classes:{formValidatedClass:"was-validated",inputValidClass:"is-valid",inputInvalidClass:"is-invalid",parentValidClass:"input-valid",parentInvalidClass:"input-invalid"}}),kr.addLocale("en",{badInput:"Please provide the correct input",valueMissing:"Please fill out this field.",valueMissingCheckbox:"Please check this box if you want to proceed.",valueMissingRadio:"Please select one of these options.",valueMissingSelect:"Please select one of these options.",patternMismatch:"Please match the requested format",typeMismatch:"Please match the requested type",typeMismatchEmail:"Please enter an email address",typeMismatchUrl:"Please enter an URL",tooLong:"Please shorten this text to {maxlength} characters or less (you are currently using {count} characters).",tooShort:"Please lengthen this text to {minlength} characters or more (you are currently using {count} characters).",rangeOverflow:"Please enter a value that is no more than {max}.",rangeUnderflow:"Please enter a value that is no less than {min}.",stepMismatch:"Please provide a valid value",remoteInvalid:"The field doesn't pass remote validation."}),kr.rule("match",(function(t,e){return new Promise((n,r)=>{t.value===document.querySelector(t.getAttribute(e)).value?n():r("The values don't match")})})),kr.rule("remote",(function(t,e){let n=t.getAttribute(e).replace("{value}",t.value),r="true"==t.getAttribute("".concat(e,"-reverse")),i="__remote_request_".concat(t.id);void 0===this[i]&&(this[i]=new XMLHttpRequest);let o,a={method:"GET",headers:{},data:null};if(t.hasAttribute("".concat(e,"-options")))try{o=JSON.parse(t.getAttribute("".concat(e,"-options")))}catch(t){}o&&(a=_r(_r({},a),o)),this[i].readyState>0&&this[i].readyState<4&&this[i].abort();var s=this[i];s.open(a.method,n);for(const t in a.headers)s.setRequestHeader(t,a.headers[t]);var c=this.translate("remoteInvalid");return new Promise((e,n)=>{s.onload=function(){let t=200==this.status;r&&(t=!t),t?e():n(c)},s.onerror=function(){console.log("".concat(this.status," ").concat(this.statusText))},s.send(a.data),t.classList.add("remote-loading")})}));export default kr;
