/*!
 * @mirazmac/eagerform
 * A vanilla javascript form validation library based on HTML5 constraints with support for custom rules, messages and localizations.
 *
 * @version v1.0.4
 * @author Miraz Mac <mirazmac@gmail.com> (https://github.com/MirazMac)
 * @homepage https://github.com/MirazMac/EagerForm
 * @repository https://github.com/MirazMac/EagerForm
 * @license MIT
 */
var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){var e={exports:{}};return t(e,e.exports),e.exports}var n=function(t){return t&&t.Math==Math&&t},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")(),i=function(t){try{return!!t()}catch(t){return!0}},o=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),a={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,c={f:s&&!a.call({1:2},1)?function(t){var e=s(this,t);return!!e&&e.enumerable}:a},l=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},u={}.toString,f=function(t){return u.call(t).slice(8,-1)},h="".split,d=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==f(t)?h.call(t,""):Object(t)}:Object,p=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},v=function(t){return d(p(t))},g=function(t){return"object"==typeof t?null!==t:"function"==typeof t},b=function(t,e){if(!g(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!g(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!g(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!g(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},m=function(t){return Object(p(t))},y={}.hasOwnProperty,E=Object.hasOwn||function(t,e){return y.call(m(t),e)},S=r.document,w=g(S)&&g(S.createElement),O=function(t){return w?S.createElement(t):{}},j=!o&&!i((function(){return 7!=Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a})),P=Object.getOwnPropertyDescriptor,x={f:o?P:function(t,e){if(t=v(t),e=b(e,!0),j)try{return P(t,e)}catch(t){}if(E(t,e))return l(!c.f.call(t,e),t[e])}},A=function(t){if(!g(t))throw TypeError(String(t)+" is not an object");return t},F=Object.defineProperty,T={f:o?F:function(t,e,n){if(A(t),e=b(e,!0),A(n),j)try{return F(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},I=o?function(t,e,n){return T.f(t,e,l(1,n))}:function(t,e,n){return t[e]=n,t},C=function(t,e){try{I(r,t,e)}catch(n){r[t]=e}return e},L=r["__core-js_shared__"]||C("__core-js_shared__",{}),R=Function.toString;"function"!=typeof L.inspectSource&&(L.inspectSource=function(t){return R.call(t)});var _,k,M,D,N=L.inspectSource,U=r.WeakMap,V="function"==typeof U&&/native code/.test(N(U)),$=e((function(t){(t.exports=function(t,e){return L[t]||(L[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.13.1",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),q=0,B=Math.random(),X=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++q+B).toString(36)},H=$("keys"),W={},z=r.WeakMap;if(V||L.state){var K=L.state||(L.state=new z),G=K.get,Y=K.has,J=K.set;_=function(t,e){if(Y.call(K,t))throw new TypeError("Object already initialized");return e.facade=t,J.call(K,t,e),e},k=function(t){return G.call(K,t)||{}},M=function(t){return Y.call(K,t)}}else{var Z=H[D="state"]||(H[D]=X(D));W[Z]=!0,_=function(t,e){if(E(t,Z))throw new TypeError("Object already initialized");return e.facade=t,I(t,Z,e),e},k=function(t){return E(t,Z)?t[Z]:{}},M=function(t){return E(t,Z)}}var Q={set:_,get:k,has:M,enforce:function(t){return M(t)?k(t):_(t,{})},getterFor:function(t){return function(e){var n;if(!g(e)||(n=k(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},tt=e((function(t){var e=Q.get,n=Q.enforce,i=String(String).split("String");(t.exports=function(t,e,o,a){var s,c=!!a&&!!a.unsafe,l=!!a&&!!a.enumerable,u=!!a&&!!a.noTargetGet;"function"==typeof o&&("string"!=typeof e||E(o,"name")||I(o,"name",e),(s=n(o)).source||(s.source=i.join("string"==typeof e?e:""))),t!==r?(c?!u&&t[e]&&(l=!0):delete t[e],l?t[e]=o:I(t,e,o)):l?t[e]=o:C(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||N(this)}))})),et=r,nt=function(t){return"function"==typeof t?t:void 0},rt=function(t,e){return arguments.length<2?nt(et[t])||nt(r[t]):et[t]&&et[t][e]||r[t]&&r[t][e]},it=Math.ceil,ot=Math.floor,at=function(t){return isNaN(t=+t)?0:(t>0?ot:it)(t)},st=Math.min,ct=function(t){return t>0?st(at(t),9007199254740991):0},lt=Math.max,ut=Math.min,ft=function(t){return function(e,n,r){var i,o=v(e),a=ct(o.length),s=function(t,e){var n=at(t);return n<0?lt(n+e,0):ut(n,e)}(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},ht={includes:ft(!0),indexOf:ft(!1)}.indexOf,dt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),pt={f:Object.getOwnPropertyNames||function(t){return function(t,e){var n,r=v(t),i=0,o=[];for(n in r)!E(W,n)&&E(r,n)&&o.push(n);for(;e.length>i;)E(r,n=e[i++])&&(~ht(o,n)||o.push(n));return o}(t,dt)}},vt={f:Object.getOwnPropertySymbols},gt=rt("Reflect","ownKeys")||function(t){var e=pt.f(A(t)),n=vt.f;return n?e.concat(n(t)):e},bt=function(t,e){for(var n=gt(e),r=T.f,i=x.f,o=0;o<n.length;o++){var a=n[o];E(t,a)||r(t,a,i(e,a))}},mt=/#|\.prototype\./,yt=function(t,e){var n=St[Et(t)];return n==Ot||n!=wt&&("function"==typeof e?i(e):!!e)},Et=yt.normalize=function(t){return String(t).replace(mt,".").toLowerCase()},St=yt.data={},wt=yt.NATIVE="N",Ot=yt.POLYFILL="P",jt=yt,Pt=x.f,xt=function(t,e){var n,i,o,a,s,c=t.target,l=t.global,u=t.stat;if(n=l?r:u?r[c]||C(c,{}):(r[c]||{}).prototype)for(i in e){if(a=e[i],o=t.noTargetGet?(s=Pt(n,i))&&s.value:n[i],!jt(l?i:c+(u?".":"#")+i,t.forced)&&void 0!==o){if(typeof a==typeof o)continue;bt(a,o)}(t.sham||o&&o.sham)&&I(a,"sham",!0),tt(n,i,a,t)}},At=function(){var t=A(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function Ft(t,e){return RegExp(t,e)}var Tt,It,Ct={UNSUPPORTED_Y:i((function(){var t=Ft("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:i((function(){var t=Ft("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},Lt=RegExp.prototype.exec,Rt=$("native-string-replace",String.prototype.replace),_t=Lt,kt=(Tt=/a/,It=/b*/g,Lt.call(Tt,"a"),Lt.call(It,"a"),0!==Tt.lastIndex||0!==It.lastIndex),Mt=Ct.UNSUPPORTED_Y||Ct.BROKEN_CARET,Dt=void 0!==/()??/.exec("")[1];(kt||Dt||Mt)&&(_t=function(t){var e,n,r,i,o=this,a=Mt&&o.sticky,s=At.call(o),c=o.source,l=0,u=t;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),u=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(c="(?: "+c+")",u=" "+u,l++),n=new RegExp("^(?:"+c+")",s)),Dt&&(n=new RegExp("^"+c+"$(?!\\s)",s)),kt&&(e=o.lastIndex),r=Lt.call(a?n:o,u),a?r?(r.input=r.input.slice(l),r[0]=r[0].slice(l),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:kt&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),Dt&&r&&r.length>1&&Rt.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var Nt=_t;xt({target:"RegExp",proto:!0,forced:/./.exec!==Nt},{exec:Nt});var Ut,Vt,$t=rt("navigator","userAgent")||"",qt=r.process,Bt=qt&&qt.versions,Xt=Bt&&Bt.v8;Xt?Vt=(Ut=Xt.split("."))[0]<4?1:Ut[0]+Ut[1]:$t&&(!(Ut=$t.match(/Edge\/(\d+)/))||Ut[1]>=74)&&(Ut=$t.match(/Chrome\/(\d+)/))&&(Vt=Ut[1]);var Ht=Vt&&+Vt,Wt=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Ht&&Ht<41})),zt=Wt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Kt=$("wks"),Gt=r.Symbol,Yt=zt?Gt:Gt&&Gt.withoutSetter||X,Jt=function(t){return E(Kt,t)&&(Wt||"string"==typeof Kt[t])||(Wt&&E(Gt,t)?Kt[t]=Gt[t]:Kt[t]=Yt("Symbol."+t)),Kt[t]},Zt=Jt("species"),Qt=RegExp.prototype,te=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),ee="$0"==="a".replace(/./,"$0"),ne=Jt("replace"),re=!!/./[ne]&&""===/./[ne]("a","$0"),ie=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),oe=function(t){return function(e,n){var r,i,o=String(p(e)),a=at(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},ae={codeAt:oe(!1),charAt:oe(!0)}.charAt,se=function(t,e,n){return e+(n?ae(t,e).length:1)},ce=Math.floor,le="".replace,ue=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,fe=/\$([$&'`]|\d{1,2})/g,he=function(t,e,n,r,i,o){var a=n+t.length,s=r.length,c=fe;return void 0!==i&&(i=m(i),c=ue),le.call(o,c,(function(o,c){var l;switch(c.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(a);case"<":l=i[c.slice(1,-1)];break;default:var u=+c;if(0===u)return o;if(u>s){var f=ce(u/10);return 0===f?o:f<=s?void 0===r[f-1]?c.charAt(1):r[f-1]+c.charAt(1):o}l=r[u-1]}return void 0===l?"":l}))},de=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==f(t))throw TypeError("RegExp#exec called on incompatible receiver");return Nt.call(t,e)},pe=Math.max,ve=Math.min;function ge(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t,e,n,r){var o=Jt(t),a=!i((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),s=a&&!i((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[Zt]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return e=!0,null},n[o](""),!e}));if(!a||!s||"replace"===t&&(!te||!ee||re)||"split"===t&&!ie){var c=/./[o],l=n(o,""[t],(function(t,e,n,r,i){var o=e.exec;return o===Nt||o===Qt.exec?a&&!i?{done:!0,value:c.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:ee,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:re}),u=l[0],f=l[1];tt(String.prototype,t,u),tt(Qt,o,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)})}r&&I(Qt[o],"sham",!0)}("replace",2,(function(t,e,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(n,r){var i=p(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(a)){var s=n(e,t,this,r);if(s.done)return s.value}var c=A(t),l=String(this),u="function"==typeof r;u||(r=String(r));var f=c.global;if(f){var h=c.unicode;c.lastIndex=0}for(var d=[];;){var p=de(c,l);if(null===p)break;if(d.push(p),!f)break;""===String(p[0])&&(c.lastIndex=se(l,ct(c.lastIndex),h))}for(var v,g="",b=0,m=0;m<d.length;m++){p=d[m];for(var y=String(p[0]),E=pe(ve(at(p.index),l.length),0),S=[],w=1;w<p.length;w++)S.push(void 0===(v=p[w])?v:String(v));var O=p.groups;if(u){var j=[y].concat(S,E,l);void 0!==O&&j.push(O);var P=String(r.apply(void 0,j))}else P=he(y,l,E,S,O,r);E>=b&&(g+=l.slice(b,E)+P,b=E+y.length)}return g+l.slice(b)}]}));var be=/^\s+|\s+$/g,me=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,Ee=/^0o[0-7]+$/i,Se=parseInt,we="object"==typeof t&&t&&t.Object===Object&&t,Oe="object"==typeof self&&self&&self.Object===Object&&self,je=we||Oe||Function("return this")(),Pe=Object.prototype.toString,xe=Math.max,Ae=Math.min,Fe=function(){return je.Date.now()};function Te(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ie(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==Pe.call(t)}(t))return NaN;if(Te(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Te(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(be,"");var n=ye.test(t);return n||Ee.test(t)?Se(t.slice(2),n?2:8):me.test(t)?NaN:+t}var Ce=function(t,e,n){var r,i,o,a,s,c,l=0,u=!1,f=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var n=r,o=i;return r=i=void 0,l=e,a=t.apply(o,n)}function p(t){return l=t,s=setTimeout(g,e),u?d(t):a}function v(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-l>=o}function g(){var t=Fe();if(v(t))return b(t);s=setTimeout(g,function(t){var n=e-(t-c);return f?Ae(n,o-(t-l)):n}(t))}function b(t){return s=void 0,h&&r?d(t):(r=i=void 0,a)}function m(){var t=Fe(),n=v(t);if(r=arguments,i=this,c=t,n){if(void 0===s)return p(c);if(f)return s=setTimeout(g,e),d(c)}return void 0===s&&(s=setTimeout(g,e)),a}return e=Ie(e)||0,Te(n)&&(u=!!n.leading,o=(f="maxWait"in n)?xe(Ie(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h),m.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=c=i=s=void 0},m.flush=function(){return void 0===s?a:b(Fe())},m},Le=r.Promise,Re=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return A(n),function(t){if(!g(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),_e=T.f,ke=Jt("toStringTag"),Me=Jt("species"),De=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Ne={},Ue=Jt("iterator"),Ve=Array.prototype,$e=function(t,e,n){if(De(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},qe={};qe[Jt("toStringTag")]="z";var Be="[object z]"===String(qe),Xe=Jt("toStringTag"),He="Arguments"==f(function(){return arguments}()),We=Be?f:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Xe))?n:He?f(e):"Object"==(r=f(e))&&"function"==typeof e.callee?"Arguments":r},ze=Jt("iterator"),Ke=function(t){var e=t.return;if(void 0!==e)return A(e.call(t)).value},Ge=function(t,e){this.stopped=t,this.result=e},Ye=function(t,e,n){var r,i,o,a,s,c,l,u,f=n&&n.that,h=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),v=$e(e,f,1+h+p),g=function(t){return r&&Ke(r),new Ge(!0,t)},b=function(t){return h?(A(t),p?v(t[0],t[1],g):v(t[0],t[1])):p?v(t,g):v(t)};if(d)r=t;else{if("function"!=typeof(i=function(t){if(null!=t)return t[ze]||t["@@iterator"]||Ne[We(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(u=i)&&(Ne.Array===u||Ve[Ue]===u)){for(o=0,a=ct(t.length);a>o;o++)if((s=b(t[o]))&&s instanceof Ge)return s;return new Ge(!1)}r=i.call(t)}for(c=r.next;!(l=c.call(r)).done;){try{s=b(l.value)}catch(t){throw Ke(r),t}if("object"==typeof s&&s&&s instanceof Ge)return s}return new Ge(!1)},Je=Jt("iterator"),Ze=!1;try{var Qe=0,tn={next:function(){return{done:!!Qe++}},return:function(){Ze=!0}};tn[Je]=function(){return this},Array.from(tn,(function(){throw 2}))}catch(t){}var en,nn,rn,on=Jt("species"),an=rt("document","documentElement"),sn=/(?:iphone|ipod|ipad).*applewebkit/i.test($t),cn="process"==f(r.process),ln=r.location,un=r.setImmediate,fn=r.clearImmediate,hn=r.process,dn=r.MessageChannel,pn=r.Dispatch,vn=0,gn={},bn=function(t){if(gn.hasOwnProperty(t)){var e=gn[t];delete gn[t],e()}},mn=function(t){return function(){bn(t)}},yn=function(t){bn(t.data)},En=function(t){r.postMessage(t+"",ln.protocol+"//"+ln.host)};un&&fn||(un=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return gn[++vn]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},en(vn),vn},fn=function(t){delete gn[t]},cn?en=function(t){hn.nextTick(mn(t))}:pn&&pn.now?en=function(t){pn.now(mn(t))}:dn&&!sn?(rn=(nn=new dn).port2,nn.port1.onmessage=yn,en=$e(rn.postMessage,rn,1)):r.addEventListener&&"function"==typeof postMessage&&!r.importScripts&&ln&&"file:"!==ln.protocol&&!i(En)?(en=En,r.addEventListener("message",yn,!1)):en="onreadystatechange"in O("script")?function(t){an.appendChild(O("script")).onreadystatechange=function(){an.removeChild(this),bn(t)}}:function(t){setTimeout(mn(t),0)});var Sn,wn,On,jn,Pn,xn,An,Fn,Tn={set:un,clear:fn},In=/web0s(?!.*chrome)/i.test($t),Cn=x.f,Ln=Tn.set,Rn=r.MutationObserver||r.WebKitMutationObserver,_n=r.document,kn=r.process,Mn=r.Promise,Dn=Cn(r,"queueMicrotask"),Nn=Dn&&Dn.value;Nn||(Sn=function(){var t,e;for(cn&&(t=kn.domain)&&t.exit();wn;){e=wn.fn,wn=wn.next;try{e()}catch(t){throw wn?jn():On=void 0,t}}On=void 0,t&&t.enter()},sn||cn||In||!Rn||!_n?Mn&&Mn.resolve?((An=Mn.resolve(void 0)).constructor=Mn,Fn=An.then,jn=function(){Fn.call(An,Sn)}):jn=cn?function(){kn.nextTick(Sn)}:function(){Ln.call(r,Sn)}:(Pn=!0,xn=_n.createTextNode(""),new Rn(Sn).observe(xn,{characterData:!0}),jn=function(){xn.data=Pn=!Pn}));var Un,Vn,$n,qn,Bn,Xn,Hn,Wn=Nn||function(t){var e={fn:t,next:void 0};On&&(On.next=e),wn||(wn=e,jn()),On=e},zn=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=De(e),this.reject=De(n)},Kn={f:function(t){return new zn(t)}},Gn=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Yn="object"==typeof window,Jn=Tn.set,Zn=Jt("species"),Qn="Promise",tr=Q.get,er=Q.set,nr=Q.getterFor(Qn),rr=Le&&Le.prototype,ir=Le,or=rr,ar=r.TypeError,sr=r.document,cr=r.process,lr=Kn.f,ur=lr,fr=!!(sr&&sr.createEvent&&r.dispatchEvent),hr="function"==typeof PromiseRejectionEvent,dr=!1,pr=jt(Qn,(function(){var t=N(ir)!==String(ir);if(!t&&66===Ht)return!0;if(Ht>=51&&/native code/.test(ir))return!1;var e=new ir((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(e.constructor={})[Zn]=n,!(dr=e.then((function(){}))instanceof n)||!t&&Yn&&!hr})),vr=pr||!function(t,e){if(!e&&!Ze)return!1;var n=!1;try{var r={};r[Je]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}((function(t){ir.all(t).catch((function(){}))})),gr=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},br=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;Wn((function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var a,s,c,l=n[o++],u=i?l.ok:l.fail,f=l.resolve,h=l.reject,d=l.domain;try{u?(i||(2===t.rejection&&Sr(t),t.rejection=1),!0===u?a=r:(d&&d.enter(),a=u(r),d&&(d.exit(),c=!0)),a===l.promise?h(ar("Promise-chain cycle")):(s=gr(a))?s.call(a,f,h):f(a)):h(r)}catch(t){d&&!c&&d.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&yr(t)}))}},mr=function(t,e,n){var i,o;fr?((i=sr.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),r.dispatchEvent(i)):i={promise:e,reason:n},!hr&&(o=r["on"+t])?o(i):"unhandledrejection"===t&&function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},yr=function(t){Jn.call(r,(function(){var e,n=t.facade,r=t.value;if(Er(t)&&(e=Gn((function(){cn?cr.emit("unhandledRejection",r,n):mr("unhandledrejection",n,r)})),t.rejection=cn||Er(t)?2:1,e.error))throw e.value}))},Er=function(t){return 1!==t.rejection&&!t.parent},Sr=function(t){Jn.call(r,(function(){var e=t.facade;cn?cr.emit("rejectionHandled",e):mr("rejectionhandled",e,t.value)}))},wr=function(t,e,n){return function(r){t(e,r,n)}},Or=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,br(t,!0))},jr=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw ar("Promise can't be resolved itself");var r=gr(e);r?Wn((function(){var n={done:!1};try{r.call(e,wr(jr,n,t),wr(Or,n,t))}catch(e){Or(n,e,t)}})):(t.value=e,t.state=1,br(t,!1))}catch(e){Or({done:!1},e,t)}}};if(pr&&(or=(ir=function(t){!function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}(this,ir,Qn),De(t),Un.call(this);var e=tr(this);try{t(wr(jr,e),wr(Or,e))}catch(t){Or(e,t)}}).prototype,(Un=function(t){er(this,{type:Qn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(t,e,n){for(var r in e)tt(t,r,e[r],n);return t}(or,{then:function(t,e){var n,r,i,o=nr(this),a=lr((n=ir,void 0===(i=A(this).constructor)||null==(r=A(i)[on])?n:De(r)));return a.ok="function"!=typeof t||t,a.fail="function"==typeof e&&e,a.domain=cn?cr.domain:void 0,o.parent=!0,o.reactions.push(a),0!=o.state&&br(o,!1),a.promise},catch:function(t){return this.then(void 0,t)}}),Vn=function(){var t=new Un,e=tr(t);this.promise=t,this.resolve=wr(jr,e),this.reject=wr(Or,e)},Kn.f=lr=function(t){return t===ir||t===$n?new Vn(t):ur(t)},"function"==typeof Le&&rr!==Object.prototype)){qn=rr.then,dr||(tt(rr,"then",(function(t,e){var n=this;return new ir((function(t,e){qn.call(n,t,e)})).then(t,e)}),{unsafe:!0}),tt(rr,"catch",or.catch,{unsafe:!0}));try{delete rr.constructor}catch(t){}Re&&Re(rr,or)}function Pr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pr(Object(n),!0).forEach((function(e){ge(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}xt({global:!0,wrap:!0,forced:pr},{Promise:ir}),Xn=Qn,Hn=!1,(Bn=ir)&&!E(Bn=Hn?Bn:Bn.prototype,ke)&&_e(Bn,ke,{configurable:!0,value:Xn}),function(t){var e=rt(t),n=T.f;o&&e&&!e[Me]&&n(e,Me,{configurable:!0,get:function(){return this}})}(Qn),$n=rt(Qn),xt({target:Qn,stat:!0,forced:pr},{reject:function(t){var e=lr(this);return e.reject.call(void 0,t),e.promise}}),xt({target:Qn,stat:!0,forced:pr},{resolve:function(t){return function(t,e){if(A(t),g(e)&&e.constructor===t)return e;var n=Kn.f(t);return(0,n.resolve)(e),n.promise}(this,t)}}),xt({target:Qn,stat:!0,forced:vr},{all:function(t){var e=this,n=lr(e),r=n.resolve,i=n.reject,o=Gn((function(){var n=De(e.resolve),o=[],a=0,s=1;Ye(t,(function(t){var c=a++,l=!1;o.push(void 0),s++,n.call(e,t).then((function(t){l||(l=!0,o[c]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=lr(e),r=n.reject,i=Gn((function(){var i=De(e.resolve);Ye(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});function Ar(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ar(Object(n),!0).forEach((function(e){ge(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ar(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class Tr{constructor(t,e={}){if(this.form="object"==typeof t?t:document.querySelector(t),this.submitBtn=this.form.querySelector('[type="submit"]'),this.intervals={},this.isFocusing,this.unBubbledEvents=["blur","focus"],this.options=Fr(Fr({},Tr.defaultOptions),e),!Tr.messages[this.options.locale])throw new Error("The locale ".concat(this.options.locale," is not loaded."));return this.submitHandler=this.handleSubmit.bind(this),this.inputHandler=this.handleInput.bind(this),this.resetHandler=this.handleReset.bind(this),this.form.EagerForm?this.form.EagerForm:(this.start(),this.form.EagerForm=this,this)}start(){this.attachEvents(),this.form.setAttribute("novalidate",!0)}attachEvents(){this.options.revalidate&&this.options.revalidate.forEach(t=>{let e=!1;this.unBubbledEvents.includes(t)&&(e=!0),this.form.addEventListener(t,this.inputHandler,e)}),this.options.captureSubmit&&this.form.addEventListener("submit",this.submitHandler),this.options.captureReset&&this.form.addEventListener("reset",this.resetHandler)}detachEvents(){this.options.revalidate&&this.options.revalidate.forEach(t=>{let e=!1;this.unBubbledEvents.includes(t)&&(e=!0),this.form.removeEventListener(t,this.inputHandler,e)}),this.options.captureSubmit&&this.form.removeEventListener("submit",this.submitHandler),this.options.captureReset&&this.form.addEventListener("reset",this.resetHandler)}static addLocale(t,e){this.messages[t]=e}addMessage(t,e){return Tr.messages[this.options.locale][t]=e,this}setMessages(t){return Tr.messages[this.options.locale]=Fr(Fr({},Tr.messages[this.options.locale]),t),this}static rule(t,e){if(Tr.reservedWords.includes(t))throw new Error("".concat(t," is a reserved word"));if("function"!=typeof e)throw new Error("Callback must be a callable function");Tr.rules[t]=e}validate(){Array.prototype.filter.call(this.form.elements,t=>{this.validateField(t)})}handleSubmit(t){this.validate(),this.options.showSuccessState&&this.form.classList.add(this.options.classes.formValidatedClass);let e=this.getFirstError();e&&(t.preventDefault(),t.stopPropagation(),this.options.disableSubmit&&this.disableSubmit(),this.hightlightErrors(e)),this.complete()}enableSubmit(){this.submitBtn.removeAttribute("disabled"),this.submitBtn.classList.remove(this.options.classes.disabled)}disableSubmit(){this.submitBtn.setAttribute("disabled","disabled"),this.submitBtn.classList.add(this.options.classes.disabled)}handleReset(t){this.restoreState()}hightlightErrors(t){this.isFocusing||(this.options.autoScroll&&(this.isFocusing=!0,window.scrollTo({top:Math.round(t.getBoundingClientRect().top)+Math.round(window.scrollY)+-this.options.offsetFocus,behavior:"smooth"}),setTimeout(()=>{this.isFocusing=!1},500)),this.options.focusFirstError&&t.focus())}complete(){this.form.dispatchEvent(new Event("eager:done",{bubbles:!0}))}getFirstError(){let t=this.form.querySelector(":invalid");return t?t.hasAttribute("novalidate")&&"false"!=t.getAttribute("novalidate")?null:this.options.validateWithoutName||t.getAttribute("name")?t:null:null}isValid(){return null==this.getFirstError()}handleInput(t){if(!t.target.dispatchEvent(new Event("eager:before-validate",{bubbles:!0})))return;if(this.options.noTriggerOnTab&&t.keyCode&&9==t.keyCode)return;"change"==t.type&&this.options.disableSubmit&&this.isValid()&&this.enableSubmit();let e=this.validateField.bind(this),n="data-".concat(Tr.RULE_PREFIX,"-debounce"),r="data-".concat(Tr.RULE_PREFIX,"-").concat(t.type,"-debounce"),i=0;t.target.hasAttribute(r)?i=parseInt(t.target.getAttribute(r)):t.target.hasAttribute(n)?i=parseInt(t.target.getAttribute(n)):this.options.debounce[t.type]&&(i=this.options.debounce[t.type]),i>0&&(e=Ce(e,i));let o="data-".concat(Tr.RULE_PREFIX,"-delay"),a="data-".concat(Tr.RULE_PREFIX,"-").concat(t.type,"-delay"),s=0;t.target.hasAttribute(a)?s=parseInt(t.target.getAttribute(a)):t.target.hasAttribute(o)?s=parseInt(t.target.getAttribute(o)):this.options.delay[t.type]&&(s=this.options.delay[t.type]),s>0?(clearTimeout(this.intervals[t.type]),this.intervals[t.type]=setTimeout(()=>{e(t.target)},s)):e(t.target),t.target.dispatchEvent(new Event("eager:after-validate",{bubbles:!0}))}validateField(t){if(!t.checkValidity||["button","submit","reset"].includes(t.type))return;if(t.hasAttribute("novalidate")&&"false"!=t.getAttribute("novalidate"))return;if(!this.options.validateWithoutName&&!t.getAttribute("name"))return;let e=!1,n=!1;if(t.checkValidity&&!t.checkValidity())for(let r in t.validity)"customError"!=r?1==t.validity[r]&&(this.setError(t,r),e=!0):n=!0;if(!e){n||this.clearError(t);for(let e in Tr.rules){let n="data-".concat(Tr.RULE_PREFIX,"-").concat(e);t.hasAttribute(n)&&Tr.rules[e].bind(this,t,n)().then(()=>{t.setCustomValidity(""),this.clearError(t)}).catch(e=>{let r="";t.hasAttribute("".concat(n,"-error"))?r=t.getAttribute("".concat(n,"-error")):t.hasAttribute("data-".concat(Tr.RULE_PREFIX,"-error"))?r=t.getAttribute("data-".concat(Tr.RULE_PREFIX,"-error")):e&&e.toString().length&&(r=e),t.setCustomValidity(r),this.setError(t,"customError")})}}}setError(t,e){t.classList.add(this.options.classes.inputInvalidClass),t.classList.remove(this.options.classes.inputValidClass);let n=this.findParent(t);if(n){n.classList.add(this.options.classes.parentInvalidClass),n.classList.remove(this.options.classes.parentValidClass);let e=n.querySelectorAll('[name="'.concat(t.getAttribute("name"),'"]'));if(e.length>1)for(let t=0;t<e.length;t++)e[t].classList.add(this.options.classes.inputInvalidClass),e[t].classList.remove(this.options.classes.inputValidClass)}this.displayError(t,e)}displayError(t,e){let n=this.findParent(t),r=this.getMessage(t,e);if(n){let e=n.querySelector(this.options.invalidFeedbackSelector);if(e)return e.textContent=r,void e.setAttribute("aria-live","polite");if(!e){let e=document.createElement(this.options.invalidFeedbackName);e.className=this.options.classes.invalidFeedbackClass,e.textContent=r,e.setAttribute("aria-live","polite"),t.insertAdjacentElement(this.options.invalidFeedbackPosition,e)}}}getMessage(t,e){if("customError"==e)return t.validationMessage;let n,r=t.type.toLowerCase(),i="".concat(e).concat(r.charAt(0).toUpperCase()+r.slice(1)),o="data-".concat(Tr.RULE_PREFIX,"-")+e.replace(/[A-Z]/g,"-$&").toLowerCase()+"-error",a="data-".concat(Tr.RULE_PREFIX,"-error");if(t.hasAttribute(o)?n=t.getAttribute(o):t.hasAttribute(a)&&(n=t.getAttribute(a)),!n)switch(e){case"valueMissing":case"typeMismatch":case"rangeOverflow":case"rangeUnderflow":case"badInput":n=this.translate(i),n||(n=this.translate(e));break;default:n=this.translate(e)}if(null==n)return t.validationMessage;let s={count:Number(Tr.unicodeStrLen(t.value.toString())).toLocaleString(this.options.locale),maxlength:Number(t.getAttribute("maxlength")).toLocaleString(this.options.locale),minlength:Number(t.getAttribute("minlength")).toLocaleString(this.options.locale),min:t.getAttribute("min"),max:t.getAttribute("max"),step:Number(t.getAttribute("step")).toLocaleString(this.options.locale)};switch(r){case"number":case"range":s.min=Number(s.min).toLocaleString(this.options.locale),s.max=Number(s.max).toLocaleString(this.options.locale);break;case"date":case"datetime-local":s.min=new Date(s.min).toLocaleString(this.options.locale),s.max=new Date(s.max).toLocaleString(this.options.locale)}return Tr.strtpl(n,s)}static unicodeStrLen(t){return t?t.match(/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g).length:0}clearError(t){let e=this.findParent(t);if(t.classList.remove(this.options.classes.inputInvalidClass),e){this.options.showSuccessState&&e.classList.add(this.options.classes.parentValidClass),e.classList.remove(this.options.classes.parentInvalidClass);let n=e.querySelector(this.options.invalidFeedbackSelector);n&&(n.textContent="");let r=e.querySelectorAll('[name="'.concat(t.getAttribute("name"),'"]'));if(r.length>1)for(let t=0;t<r.length;t++)r[t].classList.remove(this.options.classes.inputInvalidClass),this.options.showSuccessState&&r[t].classList.add(this.options.classes.inputValidClass)}this.options.showSuccessState&&t.classList.add(this.options.classes.inputValidClass)}clearValidation(t){t.classList.remove(this.options.classes.inputInvalidClass,this.options.classes.inputValidClass);let e=this.findParent(t);if(e){e.classList.remove(this.options.classes.parentInvalidClass,this.options.classes.parentValidClass);let t=e.querySelector(this.options.invalidFeedbackSelector);t&&(t.textContent="")}}restoreState(){this.form.classList.remove(this.options.classes.formValidatedClass),this.options.disableSubmit&&this.enableSubmit(),Array.prototype.filter.call(this.form.elements,t=>{this.clearValidation(t)})}destroy(t=!0){t&&this.restoreState(),this.detachEvents(),delete this.form.EagerForm}findParent(t){let e;return this.options.parentSelector&&(e=t.closest(this.options.parentSelector)),e||t.parentNode}translate(t,e=null){return Tr.messages[this.options.locale][t]?Tr.messages[this.options.locale][t]:e}static strtpl(t,e){return t=t.replace(/\{(\s*?[\w.]+\s*?)}/gm,(function(t,n,r,i){return n in e?e[n]:""}))}}ge(Tr,"version","1.0.4"),ge(Tr,"RULE_PREFIX","eager"),ge(Tr,"rules",{}),ge(Tr,"messages",{}),ge(Tr,"reservedWords",["error","debounce","delay"]),ge(Tr,"defaultOptions",{locale:"en",showSuccessState:!0,autoScroll:!0,focusFirstError:!0,offsetFocus:50,revalidate:["blur","change","keyup"],noTriggerOnTab:!0,delay:{},debounce:{blur:100},validateWithoutName:!1,captureSubmit:!0,disableSubmit:!0,captureReset:!0,parentSelector:null,invalidFeedbackName:"div",invalidFeedbackPosition:"afterend",invalidFeedbackSelector:".invalid-feedback",classes:{formValidatedClass:"was-validated",inputValidClass:"is-valid",inputInvalidClass:"is-invalid",parentValidClass:"has-valid-input",parentInvalidClass:"has-invalid-input",invalidFeedbackClass:"invalid-feedback",disabled:"disabled"}}),Tr.addLocale("en",{badInput:"Please provide the correct input",valueMissing:"Please fill out this field.",valueMissingCheckbox:"Please check this box if you want to proceed.",valueMissingRadio:"Please select one of these options.",valueMissingSelect:"Please select one of these options.",patternMismatch:"Please match the requested format",typeMismatch:"Please match the requested type",typeMismatchEmail:"Please enter an email address",typeMismatchUrl:"Please enter an URL",tooLong:"Please shorten this text to {maxlength} characters or less (you are currently using {count} characters).",tooShort:"Please lengthen this text to {minlength} characters or more (you are currently using {count} characters).",rangeOverflow:"Please enter a value that is no more than {max}.",rangeUnderflow:"Please enter a value that is no less than {min}.",stepMismatch:"Please provide a valid value",remoteInvalid:"The field doesn't pass remote validation.",valueNotEqual:"The values don't match"}),Tr.rule("match",(function(t,e){let n=this.translate("valueNotEqual");return new Promise((r,i)=>{t.value===document.querySelector(t.getAttribute(e)).value?r():i(n)})})),Tr.rule("reference",(function(t,e){return new Promise((n,r)=>{let i=document.querySelector(t.getAttribute(e));i.value.length&&i.dispatchEvent(new Event("change",{bubbles:!0})),n()})})),Tr.rule("remote",(function(t,e){let n=decodeURIComponent(t.getAttribute(e)).replace("{value}",t.value),r="true"==t.getAttribute("".concat(e,"-reverse")),i="__remote_request_".concat(t.id);void 0===this[i]&&(this[i]=new XMLHttpRequest);let o,a={method:"GET",headers:{},data:null};if(t.hasAttribute("".concat(e,"-options")))try{o=JSON.parse(t.getAttribute("".concat(e,"-options")))}catch(t){}o&&(a=xr(xr({},a),o)),this[i].readyState>0&&this[i].readyState<4&&this[i].abort();var s=this[i];s.open(a.method,n);for(const t in a.headers)s.setRequestHeader(t,a.headers[t]);var c=this.translate("remoteInvalid");return new Promise((t,e)=>{s.onload=function(){let n=200==this.status;r&&(n=!n),n?t():e(c)},s.onerror=function(){console.log("".concat(this.status," ").concat(this.statusText))},s.send(a.data)})}));export default Tr;
